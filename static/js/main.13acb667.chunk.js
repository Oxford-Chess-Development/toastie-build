(this["webpackJsonptoastie-desktop"]=this["webpackJsonptoastie-desktop"]||[]).push([[0],{12:function(e,t,n){e.exports={sidebar:"sidebar_sidebar__2HqB6","slide-in-from-left":"sidebar_slide-in-from-left__3I2WD",playersSection:"sidebar_playersSection__3uTj5",scoreSection:"sidebar_scoreSection__3UUWt",addPlayerForm:"sidebar_addPlayerForm__2BzrA",input:"sidebar_input__1puJt",submit:"sidebar_submit__2vKUg",edit:"sidebar_edit__2B9v0",cancel:"sidebar_cancel__3z8eq",activate:"sidebar_activate__2eW2a",playerInfo:"sidebar_playerInfo__1Xrwp",playerLine:"sidebar_playerLine__1lGsR",scoreSeparator:"sidebar_scoreSeparator__GTexC",sectionHeader:"sidebar_sectionHeader__2_B79",playerInactive:"sidebar_playerInactive__31QEm",topBanner:"sidebar_topBanner__1mECT",bottomBanner:"sidebar_bottomBanner__d9dCr"}},14:function(e,t,n){e.exports={column:"login_column__28Zu8",initialiseButton:"login_initialiseButton__9Prct",forgottenContainer:"login_forgottenContainer__362C0",forgotten:"login_forgotten__4tbd-",form:"login_form__1BILB",input:"login_input__1XT41",submit:"login_submit__gMQkH",loginSection:"login_loginSection__aWvX4",loginBackground:"login_loginBackground__3TGCJ",foreground:"login_foreground__DZ0_J",loginForeground:"login_loginForeground__EiZaW",registerForeground:"login_registerForeground__K84R6",flip:"login_flip__2ttIw",messageBar:"login_messageBar__2NqLx"}},15:function(e,t,n){e.exports={gridPage:"crosstable_gridPage__10ff0",titles:"crosstable_titles__Ku_HT",table:"crosstable_table__2m6Gz",td:"crosstable_td__2x1Jw",th:"crosstable_th__3Elae",cell:"crosstable_cell__3-_0p",blank:"crosstable_blank__citEL",player:"crosstable_player__1--P8",edit:"crosstable_edit__23G4I",headerCell:"crosstable_headerCell__2mDYf",firstColumn:"crosstable_firstColumn__oeXvy",closeButton:"crosstable_closeButton__17Cwc",container:"crosstable_container__1awMD",textarea:"crosstable_textarea__2W6XD",form:"crosstable_form__1GEX0",submit:"crosstable_submit__38qRr",scrollbar:"crosstable_scrollbar__3Lewr",track:"crosstable_track__eBLZY"}},17:function(e,t,n){e.exports={canvas:"app_canvas__1FHL3",column:"app_column__1hgNJ",logo:"app_logo__2jMYV",loadingLine:"app_loadingLine__2O7F4",staticLogo:"app_staticLogo__46GUY",loadingGif:"app_loadingGif__1cEvX",crownOutline:"app_crownOutline__oj2MA","fade-in":"app_fade-in__3QpZj","grow-right":"app_grow-right__wmSsr"}},25:function(e){e.exports=JSON.parse('{"server":"http://localhost:8080/","prodServer":"https://api.scorchapp.co.uk/","resultsServer":"http://localhost:3001/","prodResultsServer":"https://results.scorchapp.co.uk/","useProd":true}')},26:function(e,t,n){e.exports={statusBar:"statusbar_statusBar__2InOD",favicon:"statusbar_favicon__1C6-R",menu:"statusbar_menu__CmInF",title:"statusbar_title__1r58E",exec:"statusbar_exec__j0xOn",close:"statusbar_close__1w0NA"}},27:function(e,t,n){e.exports={alertBox:"alert_alertBox__4hpf2",error:"alert_error__3YJU1",textBox:"alert_textBox__3Zl4q",response:"alert_response__1SG9U",NO:"alert_NO__s7GIQ",YES:"alert_YES__2Ra6F"}},3:function(e,t,n){e.exports={container:"components_container__OYJig",editableField:"components_editableField__2DQ37",form:"components_form___CAbq",input:"components_input__yuuOt",submitHidden:"components_submitHidden__3Xu1C",any:"components_any__1VxZc",button:"components_button__Kci_q",submit:"components_submit__14_Em",increment:"components_increment__8q10x",cancel:"components_cancel__t0sFL",infinity:"components_infinity__1aD-l",resultsBridge:"components_resultsBridge__1e4rm",details:"components_details__F_NHw",resolve:"components_resolve__1W_3n",reject:"components_reject__h5-4G",neutral:"components_neutral__2R2U4","flash-green":"components_flash-green__30sBL",linked:"components_linked__2mrTc",setResult:"components_setResult__3X9In",inputURL:"components_inputURL__2G2Vi",centre:"components_centre__14thW",tooltip:"components_tooltip__2GBeZ",detailsContent:"components_detailsContent__RF8nc",row:"components_row__1Sgj-",linkSubmit:"components_linkSubmit__1BEYZ",sectionContainer:"components_sectionContainer__21j_Q",sectionHeader:"components_sectionHeader__ZM7iD",sectionHeaderText:"components_sectionHeaderText__lSi08",sectionListWrapper:"components_sectionListWrapper__32vM3",sectionList:"components_sectionList__2nfVs",expanded:"components_expanded__1cBf6",sectionToggle:"components_sectionToggle__2sxRY",tabSection:"components_tabSection__2LlTc",tab:"components_tab__3AybE",active:"components_active__2P1X9"}},42:function(e,t,n){e.exports=n.p+"static/media/chessCom.228db28e.svg"},43:function(e,t,n){e.exports=n.p+"static/media/lichess.9ff6e305.svg"},48:function(e,t,n){e.exports=n(80)},5:function(e,t,n){e.exports={profileContainer:"profile_profileContainer__2YcL1",bottomBanner:"profile_bottomBanner__1_F9r","slide-in-from-right":"profile_slide-in-from-right__gMzc3",roundRow:"profile_roundRow__ML_BA",row:"profile_row__3DXnL",resultsRow:"profile_resultsRow__3gcjb",editable:"profile_editable__2Y5zi",editableField:"profile_editableField__3kWBQ",input:"profile_input__TH9o-",sectionListWrapper:"profile_sectionListWrapper__1iIU2",sectionList:"profile_sectionList__VIyda",expanded:"profile_expanded__3E9Ii",sectionToggle:"profile_sectionToggle__tsexe",semiPresent:"profile_semiPresent__23t3l",playerLine:"profile_playerLine__tK6bY",cancel:"profile_cancel__3uOXr",profilePicture:"profile_profilePicture__w0OHs"}},53:function(e,t,n){},55:function(e,t,n){},6:function(e,t,n){e.exports={pairings:"pairings_pairings__1F_Zk",pairingContainer:"pairings_pairingContainer__6CVle",pairing:"pairings_pairing__2I9LY","fade-in":"pairings_fade-in__2LHQe",titleContainer:"pairings_titleContainer__1YvGj",topBanner:"pairings_topBanner__2tJqe",playerInfo:"pairings_playerInfo__1oSaM",statusBar:"pairings_statusBar__zcmUd","slide-in-from-bottom":"pairings_slide-in-from-bottom__3KYPE",waitButton:"pairings_waitButton__lFy_4",finishButton:"pairings_finishButton__3dPzB",nextButton:"pairings_nextButton__1md0M",rotate:"pairings_rotate__Nqa2v",inputResult:"pairings_inputResult__1vyzz",bye:"pairings_bye__11YS_",submit:"pairings_submit__H_gCJ"}},8:function(e,t,n){e.exports={tournament:"tournament_tournament__2BCYb",titleBar:"tournament_titleBar__2qkYv","slide-in-from-top":"tournament_slide-in-from-top__23qNe",row:"tournament_row__2Zxps",header:"tournament_header__3cl0v",fixed:"tournament_fixed__e6g1R",statusBar:"tournament_statusBar__1oQSN",form:"tournament_form__24Nje",input:"tournament_input__3Z89y",editableField:"tournament_editableField__1gmD5",button:"tournament_button__3-mXI",inactive:"tournament_inactive__2ykSK",profile:"tournament_profile__3Wa-_","slide-in-from-right":"tournament_slide-in-from-right__2Eafp"}},80:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(44),o=(n(53),n(4)),l=n.n(o),s=n(7),c=n(2),u=(n(55),n(10)),m=n.n(u),d=n(20),f=n(31),p=n.n(f),b=n(25),v="function"===typeof window.require,g="function"===typeof window.require&&!window.require("electron-is-dev"),y=v?window.require("electron").remote:null,j=(v&&y.session,v?y.getCurrentWindow():{minimize:function(){},maximize:function(){},restore:function(){},close:function(){},isMaximized:function(){return!0}}),h=v?j.webContents.session.cookies:null;console.log("isDev",!1),console.log("isElectron",v),console.log("isProd",g);var E=n(45),_=n(46),O=new(n(47).a),N=function(){},w=new(function(){function e(){Object(E.a)(this,e)}return Object(_.a)(e,[{key:"getAll",value:function(){return v||g?h.get({}).then((function(e){return e.reduce((function(e,t){return e[t.name]=t.value,e}),{})})).catch((function(e){return console.log(e),{}})):Promise.resolve(O.getAll()||{})}},{key:"get",value:function(e){return v||g?h.get({name:e}).then((function(e){return e.map((function(e){return e.value}))})).then((function(e){return e[0]||""})).catch((function(e){return console.log(e),""})):Promise.resolve(O.get(e)||"")}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object.assign({},n);if(v||g){var r=new Date(Date.now());return a=Object.assign(a,{name:e,value:t,url:k,expirationDate:r.setFullYear(r.getFullYear()+1)}),h.set(a).then((function(){return h.get({})})).then((function(e){return e.map((function(e){return{name:e.name,value:e.value}}))})).catch(console.error)}return Promise.resolve(O.set(e,t,n))}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return v||g?h.remove(k,e):O.get(e)?Promise.resolve(O.remove(e,t)):Promise.reject("Couldn't remove cookie")}}]),e}()),k=b.prodServer,C=b.prodResultsServer;function S(e){return e=Object.assign(e,{method:"GET"}),p()(e).then((function(e){return e.data})).catch((function(e){throw console.error(e),e.response&&N([e.response.status,e.response.statusText,":","/"+e.response.config.url.split("/").pop()].join(" ")),e}))}function x(e){return e=Object.assign(e,{method:"POST",headers:{"Content-Type":"application/json"}}),p()(e).then((function(e){return e.data})).catch((function(e){throw e&&e.response&&e.response.data&&N(e.response.data),e}))}function D(e){e.preventDefault&&e.preventDefault(),e.persist&&e.persist();for(var t=e.target;"HTMLFormElement"!==t.constructor.name&&t.parentElement;)t=t.parentElement;if("HTMLFormElement"!==t.constructor.name)throw new Error("Couldn't find valid form");return x({data:Array.from(t).reduce((function(e,t){return t.name?("submit"===t.name||("number"===t.type?e[t.name]=Number(t.value):e[t.name]=t.value),e):e}),{}),url:t.action})}function P(e){N=e}p.a.defaults.baseURL=k,p.a.interceptors.request.use(function(){var e=Object(s.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=d.a,e.t1={},e.t2=t,e.t3=d.a,e.t4={},e.t5=t.headers,e.t6=JSON,e.next=9,w.getAll();case 9:return e.t7=e.sent,e.t8=e.t6.stringify.call(e.t6,e.t7),e.t9={Authorization:e.t8},e.t10=(0,e.t3)(e.t4,e.t5,e.t9),e.t11={headers:e.t10},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t11));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var R=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,I=/chess\.com\/(?:live(?:\?\w+)?#tm=|club\/matches\/live\/(?:[a-z-]+\/)?)([0-9]+)/,B=n(17),L=n.n(B),T=n(14),F=n.n(T),M=n(13);function U(e){var t;return r.a.createElement("div",{className:[L.a.logo,null===(t=e.classNames)||void 0===t?void 0:t.logo].join(" ")},r.a.createElement("img",{style:{visibility:e.loading?"hidden":"visible"},className:L.a.staticLogo,src:"./images/favicon.png",alt:"swiss-logo.png"}),r.a.createElement("img",{style:{visibility:e.loading?"visible":"hidden"},className:L.a.staticLogo,src:"./images/loading_queen.png",alt:"swiss-logo.png"}),r.a.createElement("img",{style:{visibility:e.loading?"visible":"hidden"},className:L.a.crownOutline,src:"./images/crown-outline.png",alt:"outline-gif"}),r.a.createElement("img",{style:{visibility:e.loading?"visible":"hidden"},className:L.a.loadingGif,src:"./images/loading-crown.gif",alt:"loading-gif"}))}function H(e){var t=Object(a.useState)(!1),n=Object(c.a)(t,2),i=n[0],o=n[1],l=Object(a.useState)(!1),s=Object(c.a)(l,2),u=s[0],d=s[1],f=Object(a.useState)(""),p=Object(c.a)(f,2),b=p[0],v=p[1],g=Object(a.useCallback)((function(t){o(!1),D(t).then((function(t){return e.login(t)})).catch((function(e){e&&e.response&&e.response.data&&v(e.response.data),console.error(e)})).finally((function(){o(!1)}))}),[o,v,e.login]),y=Object(a.useMemo)((function(){return r.a.createElement("form",{className:F.a.form,method:"POST",onSubmit:g,action:m.a.resolve(k,"login")},r.a.createElement("input",{type:"text",name:"username",required:!0,placeholder:"username",className:["input",F.a.input].join(" ")}),r.a.createElement("input",{type:"password",name:"password",required:!0,placeholder:"password",className:["input",F.a.input].join(" ")}),r.a.createElement("div",{className:F.a.forgottenContainer},r.a.createElement("div",{className:["input",F.a.forgotten].join(" ")},"username reminder"),r.a.createElement("div",{className:["input",F.a.forgotten].join(" ")},"password reset")),r.a.createElement("input",{type:"submit",value:"LOGIN",className:["input",F.a.submit].join(" ")}))}),[g]),j=Object(a.useMemo)((function(){return r.a.createElement("form",{className:F.a.form,method:"POST",onSubmit:g,action:m.a.resolve(k,"register")},r.a.createElement("input",{type:"text",name:"username",required:!0,placeholder:"username",className:["input",F.a.input].join(" ")}),r.a.createElement("input",{type:"password",name:"password",required:!0,placeholder:"password",minLength:8,className:["input",F.a.input].join(" ")}),r.a.createElement("input",{type:"email",name:"email",required:!0,placeholder:"email",className:["input",F.a.input].join(" "),pattern:R.source}),r.a.createElement("input",{type:"submit",value:"REGISTER",className:["input",F.a.submit].join(" ")}))}),[g]),h=Object(a.useMemo)((function(){return r.a.createElement("div",{className:[F.a.loginSection,F.a.initialiseButton].join(" ")},r.a.createElement("div",{className:F.a.loginBackground},r.a.createElement("div",{className:[F.a.flip,"button"].join(" "),onClick:function(){o(!0),d(!1),v(""),setTimeout((function(){return o(!1)}),500)}},r.a.createElement("div",null,"LOGIN"),r.a.createElement("div",null,r.a.createElement(M.a,null))),r.a.createElement("div",null),r.a.createElement("div",{className:[F.a.flip,"button"].join(" "),onClick:function(){o(!0),d(!0),v(""),setTimeout((function(){return o(!1)}),500)}},r.a.createElement("div",null,"REGISTER"),r.a.createElement("div",null,r.a.createElement(M.b,null))),"Background"),r.a.createElement("div",{className:[F.a.foreground,u?F.a.registerForeground:F.a.loginForeground].join(" ")},u?j:y))}),[o,d,v,u]),E=Object(a.useMemo)((function(){return r.a.createElement(U,{setLoading:function(e){return o(e)},loading:i})}),[o,i]);return r.a.createElement("div",{className:L.a.canvas},r.a.createElement("div",{className:L.a.column}),r.a.createElement("div",{className:[L.a.column,F.a.column].join(" ")},E,h,r.a.createElement("div",{className:F.a.messageBar},b||"\u200b")),r.a.createElement("div",{className:L.a.column}))}var q=n(16),V=n(26),A=n.n(V);function z(){j.isMaximized()?j.restore():j.maximize()}function W(){return r.a.createElement("div",{className:A.a.statusBar},r.a.createElement("div",{className:A.a.title},"ScorchApp"),r.a.createElement("div",{className:A.a.menu},r.a.createElement("div",{className:A.a.favicon},r.a.createElement("img",{alt:"favicon",draggable:!1,src:"./logo192.png"}))),r.a.createElement("div",{className:A.a.exec},r.a.createElement("div",{onClick:function(){return j.minimize()}},r.a.createElement(q.h,null)),r.a.createElement("div",{onClick:z},j.isMaximized()?r.a.createElement(q.i,null):r.a.createElement(q.g,null)),r.a.createElement("div",{onClick:function(){return j.close()},className:A.a.close},r.a.createElement(q.f,null))))}var G=n(22),K=n(24),Y=n(8),J=n.n(Y),X=n(3),Z=n.n(X),Q=n(11);function $(e){var t,n=Object(a.useState)(e.content),i=Object(c.a)(n,2),o=i[0],l=i[1],s=Object(a.useState)(e.alwaysEnabled||!1),u=Object(c.a)(s,2),m=u[0],d=u[1],f=Object(a.useState)(!1),p=Object(c.a)(f,2),b=p[0],v=p[1],g=Object(a.useRef)(null),y=Object(a.useRef)(null),j=Object(a.useCallback)((function(t){t.preventDefault();var n=t.target;"HTMLButtonElement"===n.constructor.name&&n.parentNode[e.name||"name"].stepDown()}),[e.name]),h=Object(a.useCallback)((function(t){t.preventDefault();var n=t.target;"HTMLButtonElement"===n.constructor.name&&n.parentNode[e.name||"name"].stepUp()}),[e.name]),E=Object(a.useCallback)((function(t){if(t.preventDefault(),e.handleClear)e.handleClear().then((function(){d(e.alwaysEnabled||!1),l("")}));else{var n=t.target.parentElement;if("HTMLFormElement"!==n.constructor.name)return Promise.resolve(d(e.alwaysEnabled||!1));var a=n[e.name||"name"];if("HTMLInputElement"!==a.constructor.name)return Promise.resolve(d(e.alwaysEnabled||!1));l(null),a.value=null,n[e.name||"name"]=null,t.target=n,N({target:n})}}),[e.handleClear,d,l,e.alwaysEnabled]),_=Object(a.useCallback)((function(t){return t.preventDefault(),e.handleSubmit(e.name||"name",0).then((function(){d(e.alwaysEnabled||!1),l("0")}))}),[e.handleSubmit,d,l,e.name]),O=Object(a.useCallback)((function(t){return t.preventDefault(),e.handleSubmit(e.name||"name","Infinity").then((function(){d(e.alwaysEnabled||!1),l("\u221e")}))}),[e.handleSubmit,d,l,e.alwaysEnabled,e.name]),N=Object(a.useCallback)((function(t){if(t.preventDefault&&t.preventDefault(),e.useHandleSubmit){var n,a=t.target;if("HTMLFormElement"===a.constructor.name)n=a[e.name||"name"];else{if("HTMLInputElement"!==a.constructor.name)return Promise.resolve(d(e.alwaysEnabled||!1));n=a}return e.handleSubmit(e.name||"name",n.value).then((function(){return d(e.alwaysEnabled||!1),t})).then(e.onSubmitSuccess).then((function(){return l(n.value)}))}return D(t).then((function(){return d(e.alwaysEnabled||!1),t})).then(e.onSubmitSuccess).then((function(e){for(var t=e.target;"HTMLFormElement"!==t.constructor.name&&t.parentElement;)t=t.parentElement;if("HTMLFormElement"!==t.constructor.name)throw new Error("Couldn't find valid form");var n=t.firstChild.value;l(n)}))}),[e.useHandleSubmit,e.handleSubmit,e.name,d,e.onSubmitSuccess,e.alwaysEnabled,d,l]),w=Object(a.useCallback)((function(t){switch(t.keyCode){case 27:return d(e.alwaysEnabled||!1),t;case 13:return N(t),t;default:return t}}),[d,N,e.alwaysEnabled]);Object(a.useEffect)((function(){l(e.content)}),[e.content]),Object(a.useEffect)((function(){if(b){var e=g.current;e&&(e.select?e.select():e.focus&&e.focus())}}),[g,b]),oe((function(t){y.current&&y.current.contains(t.target)||d(e.alwaysEnabled||!1)}));var k,C=Math.random().toString(16).slice(2,9),S=o;return S&&"datetime-local"===e.inputType?(k=new Date(o),S=isNaN(k.valueOf())?"":k.toLocaleString("en-GB").slice(0,-3)):(null===(t=e.show)||void 0===t?void 0:t.any)&&"0"===S&&(S="Any"),r.a.createElement("div",{ref:y,className:[Z.a.container,e.additionalStyles.container].join(" "),id:C},m?function(t){var n,a,i,o,l,s,c,u,m,f,p,b;return b="datetime-local"===e.inputType?t?function(e){if(isNaN(e.valueOf()))return"";var t=6e4*e.getTimezoneOffset();return new Date(e.valueOf()-t).toISOString().slice(0,16)}(new Date(t)):function(e){var t=new Date(e.setUTCHours(e.getUTCHours()+1));return t.getUTCMinutes()<30?new Date(t.setUTCMinutes(30)):new Date(new Date(t.setUTCMinutes(0)).setUTCHours(t.getUTCHours()+1))}(new Date(e.defaultEditContent)).toString():t,(null===(n=e.show)||void 0===n?void 0:n.any)&&"0"===b&&(b=""),r.a.createElement("form",{ref:e.formRef,className:Z.a.form,target:"_self",onKeyDown:w,onSubmit:N,method:"POST",action:e.url},r.a.createElement("input",Object.assign({type:e.inputType,className:[Z.a.input,e.additionalStyles.input].join(" "),name:e.name||"name",defaultValue:b,placeholder:" ",required:!0,ref:g},e.additionalInputProps)),r.a.createElement("button",{className:[!(null===(a=e.show)||void 0===a?void 0:a.submit)||(null===(i=e.show)||void 0===i?void 0:i.infinity)||(null===(o=e.show)||void 0===o?void 0:o.any)||(null===(l=e.show)||void 0===l?void 0:l.clear)?Z.a.submitHidden:"",Z.a.cancel].join(" "),onClick:function(){return d(e.alwaysEnabled||!1)}},r.a.createElement(Q.c,null)),r.a.createElement("button",{className:[(null===(s=e.show)||void 0===s?void 0:s.clear)?"":Z.a.submitHidden,Z.a.cancel].join(" "),onClick:E},r.a.createElement(Q.c,null)),r.a.createElement("button",{className:[(null===(c=e.show)||void 0===c?void 0:c.any)?"":Z.a.submitHidden,Z.a.any].join(" "),onClick:_},"Any"),r.a.createElement("button",{className:[(null===(u=e.show)||void 0===u?void 0:u.infinity)?"":Z.a.submitHidden,Z.a.infinity].join(" "),onClick:O},"\u221e"),r.a.createElement("button",{type:"button",value:"\u25bc",className:[(null===(m=e.show)||void 0===m?void 0:m.increment)?"":Z.a.submitHidden,Z.a.increment].join(" "),onClick:j},r.a.createElement(Q.d,null)),r.a.createElement("button",{className:[(null===(f=e.show)||void 0===f?void 0:f.increment)?"":Z.a.submitHidden,Z.a.increment].join(" "),onClick:h},r.a.createElement(Q.h,null)),r.a.createElement("button",{type:"submit",className:[(null===(p=e.show)||void 0===p?void 0:p.submit)?"":Z.a.submitHidden,Z.a.submit].join(" ")},r.a.createElement(Q.b,null)),e.children)}(o):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:[Z.a.editableField,e.additionalStyles.editableField||""].join(" "),onClick:function(){d(!0),v(!0)}},S||e.defaultContent||"\u200b"),e.children))}var ee=n(42),te=n.n(ee),ne=n(43),ae=n.n(ne);function re(e){var t,n,i=Object(a.useState)(void 0),o=Object(c.a)(i,2),l=o[0],s=o[1],u=Object(a.useState)(""),d=Object(c.a)(u,2),f=d[0],p=d[1],b=function(t){var n=t.target.parentElement,a=e.validate(n);p("string"===typeof a?a:""),s("boolean"===typeof a?a:"string"!==typeof a&&void 0)},v=Object(a.useMemo)((function(){return Object.values(e.gameLinks).some((function(e){return e}))}),[e.gameLinks]);return null!==e.result[0]||null!==e.result[1]?r.a.createElement("div",{className:Z.a.resultsBridge},r.a.createElement("div",{className:[Z.a.setResult,v?Z.a.linked:""].join(" ")},null!==(t=e.result[0])&&void 0!==t?t:"\u200b"),r.a.createElement("div",{className:Z.a.neutral,onClick:function(){return e.expand(!e.expanded)},style:{transform:e.expanded?"rotate(450deg)":"rotate(0deg)"}},r.a.createElement(Q.f,null)),r.a.createElement("div",{className:[Z.a.setResult,v?Z.a.linked:""].join(" ")},null!==(n=e.result[1])&&void 0!==n?n:"\u200b")):r.a.createElement("form",{className:Z.a.resultsBridge,target:"_self",onSubmit:function(t){if(t.persist(),!e.validate(t.target))return t.preventDefault();D(t).then((function(){return e.handleSubmit(t)}))},method:"POST",action:m.a.resolve(k,["tournament",e.tournamentID,"addResult"].join("/"))},r.a.createElement("input",{type:"number",min:0,step:.5,name:"resultWhite",required:!0,className:[e.inputClassName,v?Z.a.linked:""].join(" "),onChange:b}),r.a.createElement("div",{className:Z.a.centre},f?r.a.createElement("span",{className:Z.a.tooltip},f):null,l?r.a.createElement("button",{tabIndex:-1,className:Z.a.resolve},r.a.createElement(Q.b,null)):!1===l?r.a.createElement("button",{tabIndex:-1,className:Z.a.reject,onClick:function(e){e.preventDefault(),e.target.parentElement.parentElement.reset(),p(""),s(void 0)}},r.a.createElement(Q.c,null)):r.a.createElement("div",{className:Z.a.neutral,onClick:function(){return e.expand(!e.expanded)},style:{transform:e.expanded?"rotate(450deg)":"rotate(0deg)"}},r.a.createElement(Q.f,null))),r.a.createElement("input",{type:"number",min:0,step:.5,name:"resultBlack",required:!0,className:[e.inputClassName,v?Z.a.linked:""].join(" "),onChange:b}),Object.entries(e.hidden).map((function(e,t){var n=Object(c.a)(e,2),a=n[0],i=n[1];return r.a.createElement("input",{key:["hiddenInput",t].join("."),type:"hidden",name:a,value:i,required:!0})})))}function ie(e){var t=Object(a.useState)("0px"),n=Object(c.a)(t,2),i=n[0],o=n[1],l=Object(a.useRef)(null),s=Object(a.useRef)(null);Object(a.useEffect)((function(){if(l.current&&e.expanded)return o(l.current.getBoundingClientRect().height+"px"),function(){return o("0px")}}),[l,o,e.expanded]);var u=e.individual?e.gameLinks.lichessLink:e.gameLinks.lichessTeamLink,d=e.individual?e.gameLinks.chessComLink:e.gameLinks.chessComTeamLink,f=Object(a.useCallback)((function(t,n){var a,r=n;if(!e.individual){var i=n.match(I);if(!i)return console.error("Invalid syntax on tournament: "+n),Promise.resolve();r="https://chess.com/club/matches/live/"+i[1]}return x({url:m.a.resolve(k,["tournament",e.tournamentID,"updateResultLink"].join("/")),data:(a={id:e.id},Object(G.a)(a,t,r),Object(G.a)(a,"type",e.individual?"individual":"team"),Object(G.a)(a,"round",e.round),a)})}),[e.id,e.individual,e.tournamentID]),p=Object(a.useCallback)((function(t){return x({url:m.a.resolve(k,["tournament",e.tournamentID,"clearResultLink"].join("/")),data:{id:e.id,site:t,type:e.individual?"individual":"team",round:e.round}})}),[e.id,e.individual,e.tournamentID]),b=Object(a.useCallback)((function(){return x({url:m.a.resolve(k,["tournament",e.tournamentID,"undoPairing"].join("/")),data:{id:e.id,round:e.round}}).then(e.updatePlayerDict)}),[e.id,e.individual,e.tournamentID]);return r.a.createElement("div",{className:[e.className,Z.a.details].join(" "),style:{height:i}},r.a.createElement("div",{ref:l,className:[Z.a.detailsContent].join(" ")},r.a.createElement("div",null,r.a.createElement("div",{className:Z.a.row},"Board: ",e.board,"\n"),r.a.createElement("div",{className:Z.a.row},r.a.createElement("button",{className:[Z.a.button,Z.a.infinity].join(" "),onClick:function(){return e.triggerConfirm("Really undo result? This action cannot be undone",b,(function(){}))}},r.a.createElement(q.e,null),"Undo Pairing")),r.a.createElement("div",{className:Z.a.row},"For online games, enter ",e.individual?"":"team match ","game links below:")),r.a.createElement("div",null,r.a.createElement("div",{className:Z.a.row},r.a.createElement($,{content:d,url:m.a.resolve(k,["tournament",e.tournamentID,"updateResultLink"].join("/")),onSubmitSuccess:function(t){return e.update(),t},handleSubmit:function(e,t){return f("chessCom",t)},name:"link",additionalInputProps:{},additionalStyles:{input:Z.a.inputURL,editableField:Z.a.editableField},formRef:s,useHandleSubmit:!0,handleClear:function(){return p("chessCom")},show:{clear:!0}},r.a.createElement("button",{className:[Z.a.submit,Z.a.linkSubmit].join(" ")},r.a.createElement("img",{src:te.a,alt:"chess.com"})))),r.a.createElement("div",{className:Z.a.row},r.a.createElement($,{content:u,url:m.a.resolve(k,["tournament",e.tournamentID,"updateResultLink"].join("/")),onSubmitSuccess:function(t){return e.update(),t},handleSubmit:function(e,t){return f("lichess",t)},name:"link",additionalInputProps:{},additionalStyles:{input:Z.a.inputURL,editableField:Z.a.editableField},formRef:s,useHandleSubmit:!0,handleClear:function(){return p("lichess")},show:{clear:!0}},r.a.createElement("button",{className:[Z.a.increment,Z.a.linkSubmit].join(" ")},r.a.createElement("img",{src:ae.a,alt:"lichess"})))))))}var oe=function(e){Object(a.useEffect)((function(){return window.addEventListener("mousedown",e),function(){return window.removeEventListener("mousedown",e)}}),[e])},le=n(18),se=n(23);function ce(e){var t=!1;t="undefined"!==typeof e.lastRoundOverride?e.lastRoundOverride:e.settings.totalRounds===e.status.round;var n=m.a.resolve(k,["tournament",e.status.id,"setName"].join("/")),i=Object(a.useMemo)((function(){return e.userRound||e.status.round}),[e.userRound,e.status.round]),o=Object(a.useCallback)((function(){i>1&&(e.setRound(i-1),e.switchPairings(!1))}),[i,e.setRound,e.switchPairings]),l=Object(a.useCallback)((function(){i<e.status.round&&(e.setRound(i+1),e.switchPairings(!1))}),[i,e.setRound,e.switchPairings]);return r.a.createElement("div",{className:J.a.titleBar,style:{gridColumn:"2 /span 1"}},r.a.createElement("div",{className:J.a.row},r.a.createElement("div",{className:["topBanner",J.a.header].join(" ")},r.a.createElement($,{content:e.status.name,url:n,inputType:"text",handleSubmit:function(e,t){return x({url:n,data:Object(G.a)({},e,t)})},additionalStyles:J.a,additionalInputProps:{},onSubmitSuccess:function(t){return e.updateTournamentStatus(),t},defaultContent:"Unnamed Swiss Tournament",show:{submit:!0}}))),r.a.createElement("div",{className:[J.a.row,J.a.statusBar].join(" ")},r.a.createElement("div",{className:[i>1?"button":J.a.fixed].join(" "),onClick:o},r.a.createElement(q.a,null)),r.a.createElement("div",{className:J.a.fixed},"Round: ",i?i+" / "+("Infinity"===e.totalRounds?"\u221e":e.totalRounds):"Not yet initialised"),r.a.createElement("div",{className:[i<e.status.round?"button":J.a.fixed].join(" "),onClick:l},r.a.createElement(q.b,null))),r.a.createElement("div",{className:J.a.row},r.a.createElement("div",{className:["button",J.a.button].join(" "),onClick:e.closeTournament},r.a.createElement(le.a,null)," Exit to menu"),r.a.createElement("div",{className:["button",J.a.button].join(" "),onClick:function(){e.status.round>=e.settings.totalRounds&&e.triggerError("Increase the number of rounds in Settings to continue!"),e.setLastRound(!t)}},t?r.a.createElement(r.a.Fragment,null,r.a.createElement(M.j,null)," ","Resume tournament"):r.a.createElement(r.a.Fragment,null,r.a.createElement(le.c,null)," ","Pause tournament"))),r.a.createElement("div",{className:J.a.row},r.a.createElement("div",{className:["button",J.a.button].join(" "),onClick:e.toggleCrossTable},r.a.createElement(r.a.Fragment,null,r.a.createElement(M.i,null)," ","Crosstable")),r.a.createElement("div",{className:[i===e.status.round?J.a.active:J.a.inactive,"button",J.a.button].join(" "),onClick:i===e.status.round?function(){return e.switchPairings()}:function(){}},i===e.status.round?r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,null)," ","Switch Pairings"):"\u200b")))}var ue=n(6),me=n.n(ue);function de(e){var t=Object(a.useMemo)((function(){return e.userRound||e.status.round}),[e.userRound,e.status.round]),n=Object(a.useReducer)((function(){return Math.random().toString(16).slice(2,9)}),""),i=Object(c.a)(n,2),o=i[0],u=i[1],m=Object(a.useCallback)((function(n,a){var r=a.id,i=a.W,o=a.B;return i&&o&&(i.histories[t]&&o.histories[t]||console.log(t,i.histories)),n.set(r,[i?i.histories?i.histories[t][e.settings.displayPoints]:null:0,o?o.histories?o.histories[t][e.settings.displayPoints]:null:0]),u({}),n}),[t,e.settings.displayPoints]),d=Object(a.useState)([]),f=Object(c.a)(d,2),p=f[0],b=f[1],v=Object(a.useReducer)(m,new Map),g=Object(c.a)(v,2),y=g[0],j=g[1],h=Object(a.useState)(!1),E=Object(c.a)(h,2),_=E[0],O=E[1],N=Object(a.useCallback)((function(){if(t&&e.playerDict.size)return S({url:"/tournament/"+e.id+"/getPairings",params:{round:t}}).then((function(t){var n,a=Object(K.a)(t);try{for(a.s();!(n=a.n()).done;){var r=Object(c.a)(n.value,2),i=r[0],o=r[1];j({id:i+"."+o,W:e.playerDict.get(i),B:e.playerDict.get(o)})}}catch(l){a.e(l)}finally{a.f()}b(t)})).catch(console.error)}),[e.id,b,j,t,e.playerDict,e.playerDictKey]);function w(t,n){return"bye"===t?"BYE":n?(a="individual"===e.settings.competitors?[n.firstName,n.lastName].join(" "):n.firstName,"".concat(a," [").concat(n.score,"]")):t;var a}var k=Array.from(y.values()).filter((function(e){return e.every((function(e){return null===e}))})),C=Object(a.useCallback)((function(){return x({url:"/tournament/"+e.id+"/getRestPairings"}).then(e.updatePlayerDict).catch(console.error)}),[N,e.id]),D=Object(a.useCallback)((function(){return O(!0),x({url:"/tournament/"+e.id+"/getNextPairings"}).then((function(e){return b(e)})).then((function(){N(),e.updatePlayerDict()})).then(e.updateRound).catch(console.error).finally((function(){return O(!1)}))}),[O,b,e.id,N,e.updateRound,O]),P=Object(a.useMemo)((function(){return Array.from(e.playerDict.values()).filter((function(e){return e.histories&&!e.histories[t]})).length>=2}),[e.playerDict,e.playerDictKey]);function R(t){if(""!==t.resultWhite.value||""!==t.resultBlack.value)return!!Array.from(t).every((function(e){return e.validity.valid}))&&(!e.settings.gamePointTotal||(Number(t.resultWhite.value)+Number(t.resultBlack.value)===("game"===e.settings.displayPoints?e.settings.gamePointTotal:1)||"Setting: sum results to "+e.settings.gamePointTotal))}var I=Object(a.useState)(""),B=Object(c.a)(I,2),L=B[0],T=B[1];Object(a.useEffect)((function(){N()}),[N]);var F=Object(a.useMemo)((function(){var n,a=[],i=e.playerDict,o=1,m=Object(K.a)(p);try{var d=function(){var m=Object(c.a)(n.value,3),d=m[0],f=m[1],p=m[2],b=[i.get(d),i.get(f)],v=b[1],g=[w(d,b[0]),w(f,v)],j=g[0],h=g[1],E=d+"."+f,_=y.get(E);if(!_)return"continue";a.push(r.a.createElement("div",{id:E,className:me.a.pairing,key:["pairings",d,f].join(".")},r.a.createElement("div",{className:["playerInfo",me.a.playerInfo,"bye"===d?me.a.bye:""].join(" "),id:d,onClick:function(t){return"bye"===d?null:e.setDisplayPlayer(t.target.id)}},j),r.a.createElement(re,{expand:function(e){return T(e?E:"")},expanded:L===E,result:_,gameLinks:p,tournamentID:e.id,inputClassName:me.a.inputResult,hidden:{W:d,B:f,round:t},validate:R,handleSubmit:function(){var t=Object(s.a)(l.a.mark((function t(n){var a,r,i,o,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n.target,y.set(E,[Number(a.resultWhite.value),Number(a.resultBlack.value)]),a&&(r=a.parentElement)){i=r;do{i=i.nextSibling}while(i&&!i.getElementsByTagName("form")[0]);i&&(o=i.getElementsByTagName("form")[0],(s=o.getElementsByTagName("input")[0])&&s.focus())}return u({}),e.updatePlayerDict(),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),r.a.createElement("div",{className:["playerInfo",me.a.playerInfo,me.a.playerInfo,"bye"===f?me.a.bye:""].join(" "),id:f,onClick:function(t){return"bye"===f?null:e.setDisplayPlayer(t.target.id)}},h)),r.a.createElement(ie,{key:["pairingDetails",d,f].join("."),tournamentID:e.status.id,id:E,board:o,round:t,className:["dropdown",me.a.pairing].join(" "),expanded:L===E,gameLinks:p,individual:"individual"===e.settings.competitors,update:N,updatePlayerDict:e.updatePlayerDict,triggerConfirm:e.triggerConfirm})),o++};for(m.s();!(n=m.n()).done;)d()}catch(f){m.e(f)}finally{m.f()}return a}),[e.playerDict,p,w,y,o,e.updatePlayerDict,N,e.setDisplayPlayer,j,e.playerDictKey]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:me.a.pairings},r.a.createElement("div",{className:me.a.titleContainer},r.a.createElement("div",{className:["topBanner",me.a.topBanner].join(" ")},"Pairings")),r.a.createElement("div",{className:[me.a.pairingContainer,"scrollable"].join(" ")},r.a.createElement("div",{className:[me.a.pairingWrapper].join(" ")},F))),r.a.createElement("div",{className:["bottomBanner",me.a.statusBar].join(" ")},r.a.createElement("div",{className:["button"].join(" "),onClick:e.toggleSidebar},r.a.createElement(se.b,null)),r.a.createElement("div",{style:{display:"grid",gridAutoFlow:"column",gridAutoColumns:"1fr",width:"100%"}},P?r.a.createElement("div",{className:[me.a.nextButton,"button"].join(" "),onClick:C},"Pair Remaining"):null,function(){var n;return n=t>=e.settings.totalRounds||"undefined"!==typeof e.lastRoundOverride&&e.lastRoundOverride,_?r.a.createElement("div",{className:[me.a.nextButton,"button"].join(" ")},r.a.createElement(Q.e,null)):t<e.status.round?r.a.createElement("div",{className:[me.a.waitButton].join(" ")}):e.canTriggerNextRound?k.length>0?r.a.createElement("div",{className:[me.a.waitButton].join(" ")},"Awaiting ".concat(k.length," result").concat(k.length>1?"s":"")):n?r.a.createElement("div",{className:[me.a.finishButton,"button"].join(" "),onClick:e.toggleCrossTable},"Final Standings"):r.a.createElement("div",{className:[me.a.nextButton,"button"].join(" "),onClick:D},"Next Round"):r.a.createElement("div",{className:[me.a.waitButton].join(" ")},"Must have at least 2 active players")}()),r.a.createElement("div",{className:["button"].join(" "),onClick:e.toggleRightTab},r.a.createElement(se.b,null))))}var fe=n(21);function pe(e){var t=Object(a.useMemo)((function(){return e.status.round}),[e.status.round]),n=Object(a.useState)([]),i=Object(c.a)(n,2),o=i[0],l=i[1],s=Object(a.useState)([]),u=Object(c.a)(s,2),d=u[0],f=u[1],p=[Object(a.useCallback)((function(e){return d.length<2&&!d.includes(e)?f([].concat(Object(fe.a)(d),[e])):null}),[d,f]),Object(a.useCallback)((function(e){if(d.includes(e)){var t=d.slice(0);return t.splice(d.indexOf(e),1),f(t)}}),[d,f])],b=p[0],v=p[1],g=Object(a.useCallback)((function(){if(t&&e.playerDict.size)return S({url:"/tournament/"+e.id+"/getPairings"}).then((function(e){l(e)})).catch(console.error)}),[e.id,l,t,e.playerDict,e.playerDictKey]),y=Object(a.useCallback)((function(t){if("bye"===t)return"BYE";var n,a=e.playerDict.get(t);return a?(n="individual"===e.settings.competitors?[a.firstName,a.lastName].join(" "):a.firstName,"".concat(n," [").concat(a.score,"]")):t}),[e.playerDict]),j=Object(a.useCallback)((function(){e.triggerConfirm("Really swap pairings ".concat(y(d[0])," and ").concat(y(d[1]),"?"),(function(){return x({url:m.a.resolve(k,["tournament",e.status.id,"switchPairings"].join("/")),data:{swapX:d[0],swapY:d[1],round:e.status.round}}).then((function(){f([]),e.updatePlayerDict()}))}),(function(){return f([])}))}),[d,e.status.id,e.status.round]);Object(a.useEffect)((function(){g()}),[g]);var h=Object(a.useMemo)((function(){var t,n=[],a=(e.playerDict,Object(K.a)(o));try{var i=function(){var e=Object(c.a)(t.value,2),a=e[0],i=e[1],o=[y(a),y(i)],l=o[0],s=o[1],u=a+"."+i;n.push(r.a.createElement("div",{id:u,className:me.a.pairing,key:["pairings",a,i].join(".")},r.a.createElement("div",{className:["playerInfo",me.a.playerInfo,"bye"===a?me.a.bye:""].join(" "),id:a,onClick:function(){return d.includes(a)?v(a):b(a)},style:{backgroundColor:d.includes(a)?"darkblue":""}},l),r.a.createElement("div",{className:Z.a.resultsBridge},r.a.createElement("div",{className:Z.a.setResult},"\u200b"),r.a.createElement("div",{className:Z.a.neutral,style:{cursor:"default"}},r.a.createElement(Q.f,null)),r.a.createElement("div",{className:Z.a.setResult},"\u200b")),r.a.createElement("div",{className:["playerInfo",me.a.playerInfo,me.a.playerInfo,"bye"===i?me.a.bye:""].join(" "),id:i,onClick:function(){return d.includes(i)?v(i):b(i)},style:{backgroundColor:d.includes(i)?"darkblue":""}},s)))};for(a.s();!(t=a.n()).done;)i()}catch(l){a.e(l)}finally{a.f()}return n}),[d,o,y,e.updatePlayerDict,g,e.playerDictKey]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:me.a.pairings},r.a.createElement("div",{className:me.a.titleContainer},r.a.createElement("div",{className:["topBanner",me.a.topBanner].join(" ")},"Switch Pairing Mode")),r.a.createElement("div",{className:[me.a.pairingContainer,"scrollable"].join(" ")},r.a.createElement("div",{className:[me.a.pairingWrapper].join(" ")},h))),r.a.createElement("div",{className:["bottomBanner",me.a.statusBar].join(" ")},r.a.createElement("div",{className:["button"].join(" "),style:{backgroundColor:"#373737",cursor:"default"}},"\u200b"),function(){var e=2-d.length;return e?r.a.createElement("div",{className:[me.a.waitButton].join(" ")},"Select ".concat(e," more pairing").concat(e>1?"s":"")):r.a.createElement("div",{className:[me.a.nextButton].join(" "),onClick:j},"Swap pairings")}(),r.a.createElement("div",{className:["button"].join(" "),style:{backgroundColor:"#373737",cursor:"default"}},"\u200b")))}var be=n(32),ve=n.n(be),ge=n(12),ye=n.n(ge);function je(){return r.a.createElement("div",{className:Z.a.sectionContainer},r.a.createElement("div",{className:[Z.a.sectionHeader,"topBanner"].join(" ")},r.a.createElement("div",{className:Z.a.sectionHeaderText})))}function he(e){var t=Object(a.useState)(void 0===e.expanded||e.expanded),n=Object(c.a)(t,2),i=n[0],o=n[1],l=Object(a.useState)(0),s=Object(c.a)(l,2),u=s[0],m=s[1],d=Object(a.useRef)(),f=e.useInternalState?i:e.expanded,p=Object(a.useCallback)((function(){d.current&&m(f?d.current.getBoundingClientRect().height:0)}),[m,f,d.current]);return Object(a.useEffect)((function(){p()}),[p,e.children]),Object(a.useEffect)((function(){for(var e=0,t=Array.from(d.current.children);e<t.length;e++){var n=t[e];"onload"in n&&(n.onload=p);for(var a=0,r=Array.from(n.children);a<r.length;a++){var i=r[a];"onload"in i&&(i.onload=p)}}}),[d.current,p]),r.a.createElement("div",{className:Z.a.sectionContainer,style:e.style},r.a.createElement("div",{className:[Z.a.sectionHeader,"topBanner"].join(" ")},r.a.createElement("div",{className:Z.a.sectionHeaderText,onClick:function(){return e.useInternalState?o(!f):e.setExpanded(!f,e.value)}},e.header),e.children?r.a.createElement("div",{className:Z.a.sectionToggle,onClick:function(){return e.useInternalState?o(!f):e.setExpanded(!f,e.value)}},r.a.createElement(q.a,{style:{transform:f?"rotate(-90deg)":"rotate(0deg)"}})):null),r.a.createElement("div",{className:[Z.a.sectionListWrapper,f?Z.a.expanded:""].join(" "),style:{height:u}},r.a.createElement("div",{ref:d,className:[Z.a.sectionList].join(" "),id:e.id},e.children)))}function Ee(e){return r.a.createElement("div",{className:[Z.a.tabSection].join(" ")},Object.entries(e.nameDict).map((function(t){var n=Object(c.a)(t,2),a=n[0],i=n[1];return i?r.a.createElement("div",{onClick:function(){return e.setName(a)},className:[Z.a.tab,a===e.name?Z.a.active:""].join(" ")},i):null})))}function _e(e){var t=e.requireLastName?[e.player.firstName,e.player.lastName].join(" "):e.player.firstName;return r.a.createElement("div",{id:e.player.id,className:ye.a.playerLine},r.a.createElement("div",{className:["playerInfo",ye.a.playerInfo,e.player.active?"":ye.a.playerInactive].join(" "),style:{gridColumn:e.round&&!e.allowNewPlayers?"1 / span 3":void 0},onClick:function(t){return e.setDisplayPlayer(t.target.parentElement.id)}},t," (",e.player.rating.toString(),") ",e.round&&e.player.played<e.round?"*":""),e.round&&!e.allowNewPlayers?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{name:"edit",className:ye.a.edit,onClick:e.editPlayer},r.a.createElement(Q.a,null)),e.player.active?r.a.createElement("button",{name:"cancel",className:ye.a.cancel,onClick:e.clearPlayer},r.a.createElement(Q.c,null)):r.a.createElement("button",{name:"active",className:ye.a.activate,onClick:e.activatePlayer},r.a.createElement(Q.b,null))))}function Oe(e){var t,n,i,o,l=Object(a.createRef)(),s=Object(a.useState)(!1),u=Object(c.a)(s,2),m=u[0],d=u[1];return Object(a.useEffect)((function(){(m||e.player)&&l.current&&l.current.focus()}),[l,e.player]),r.a.createElement("div",{className:ye.a.scoreSection},r.a.createElement("form",{target:"_self",onKeyDown:e.onKeyDown,onSubmit:function(t){return e.onSubmit(t).then((function(){return d(!0)}))},method:"POST",action:e.action},r.a.createElement("input",{type:"text",className:ye.a.input,name:"firstName",required:!0,style:{width:e.requireLastName?"25%":"65%"},ref:l,placeholder:e.player?void 0:e.requireLastName?"First name":"Team name",defaultValue:null===(t=e.player)||void 0===t?void 0:t.firstName,onPaste:e.handlePaste}),r.a.createElement("input",{type:"text",className:ye.a.input,name:"lastName",required:e.requireLastName,style:{width:"40%",display:e.requireLastName?"block":"none"},placeholder:e.player?void 0:"Last name",defaultValue:null===(n=e.player)||void 0===n?void 0:n.lastName}),r.a.createElement("input",{type:"number",className:ye.a.input,min:0,max:3200,name:"rating",required:!0,style:{width:"20%"},placeholder:e.player?void 0:e.requireLastName?"Rating":"Av. Rating",defaultValue:null===(i=e.player)||void 0===i?void 0:i.rating}),r.a.createElement("input",{type:"hidden",name:"id",value:null===(o=e.player)||void 0===o?void 0:o.id,required:!0}),r.a.createElement("button",{tabIndex:-1,className:ye.a.submit},r.a.createElement(Q.b,null))))}function Ne(e){var t=Object(a.useState)(0),n=Object(c.a)(t,2),i=n[0],o=n[1],u=Object(a.useState)({}),d=Object(c.a)(u,2),f=d[0],p=d[1],b=Object(a.useState)({}),v=Object(c.a)(b,2),g=v[0],y=v[1],j=Object(a.useCallback)((function(){return e.id?S({url:"/tournament/"+e.id+"/getState"}).then((function(e){var t=e.round,n=e.players;return y(n),o(t),n})):Promise.resolve({})}),[e.id]),h=Object(a.useCallback)(function(){var t=Object(s.a)(l.a.mark((function t(n){var a,r,i,o,s,u,m;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!1===n){t.next=6;break}return t.next=3,j();case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=g;case 7:if(a=t.t0){t.next=10;break}return t.abrupt("return",Promise.resolve());case 10:for(r={},i=0,o=Object.entries(a);i<o.length;i++)s=Object(c.a)(o[i],2),u=s[0],m=s[1],r[u]=m.map((function(t){return e.playerDict.get(t)})).sort((function(e,t){return t.rating-e.rating})).filter((function(e){return e}));p(r),e.checkIfEnoughPlayers(!1);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[j,e.playerDict,e.checkIfEnoughPlayers,g]),E=Object(a.useCallback)((function(t){return S({url:"/tournament/"+e.id+"/fetchPlayer",params:{id:t}}).then((function(t){return e.setPlayerDict({player:t}),t}))}),[e.id,e.setPlayerDict]),_=Object(a.useCallback)((function(t){var n=t.target;if("HTMLButtonElement"===n.constructor.name){var a=n.parentNode.id;x({url:"/tournament/"+e.id+"/activatePlayer",data:{id:a}}).then((function(){return E(a)})).catch(console.error)}}),[e.id,E]),O=Object(a.useCallback)((function(t){var n=t.target;if("HTMLButtonElement"===n.constructor.name){var a=n.parentNode.id;x({url:"/tournament/"+e.id+"/clearPlayer",data:{id:a}}).then((function(t){"inactive"===t?E(a):e.setPlayerDict({id:a})})).catch(console.error)}}),[E,e.id]),N=Object(a.useCallback)(Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x({url:"/tournament/"+e.id+"/clearPlayers"}).catch(console.error);case 2:e.checkIfEnoughPlayers();case 3:case"end":return t.stop()}}),t)}))),[e.id,e.checkIfEnoughPlayers]),w=Object(a.useMemo)((function(){return"individual"===e.settings.competitors}),[e.settings.competitors]),C=Object(a.useCallback)((function(t){var n=t.clipboardData.getData("text").toString();if(n.trim()&&(n.split("\n").length||!n.split(",").length||!n.split("\t").length)){t.preventDefault();var a=ve.a.parse(n,{delimitersToGuess:[",","\t"],dynamicTyping:!0,fastMode:!0}).data.map((function(e){var t=Object(c.a)(e,3),a=t[0],r=t[1],i=t[2];if(!w){var o=[].concat(Object(fe.a)(e),[""]);a=o[0],i=o[1],r=o[2]}if(!a||!r&&w||null===i||void 0===i)return null;try{if("string"!==typeof a)throw[a,"string"].join(",");if("string"!==typeof r&&w)throw[r,"string"].join(",");if("number"!==typeof i)throw[i,"number"].join(",");return{firstName:a,lastName:r,rating:i}}catch(s){if(!n.split("\n").length)return null;var l=s.split(",");return console.error(new TypeError("Bad input on row "+e.join(",")+"\n"+l[0]+" is not type "+l[1])),null}})).filter((function(e){return e}));x({url:"tournament/"+e.id+"/appendPlayers",data:a}).then((function(){return Promise.all([e.updatePlayerDict(),h()])}))}}),[e.id,w,e.updatePlayerDict,h]),P=Object(a.useMemo)((function(){for(var t=[],n=0;n<Math.max(1,10-Object.values(f).reduce((function(e,t){return e+t.length}),0));n++)t.push(r.a.createElement(Oe,{key:["newPlayerForm",n].join("."),id:e.id,player:null,requireLastName:w,onSubmit:function(t){return D(t).then((function(){t.target.reset()})).then((function(){return e.updatePlayerDict()}))},handlePaste:n?void 0:C,action:m.a.resolve(k,["tournament",e.id,"appendPlayer"].join("/"))}));return t}),[e.updatePlayerDict,e.id,w,f,C]);function R(t){var n=Object(a.useState)(!1),o=Object(c.a)(n,2),u=o[0],d=o[1],f=Object(a.useState)(t.player),p=Object(c.a)(f,2),b=p[0],v=p[1];return u?r.a.createElement(Oe,{id:e.id,requireLastName:w,player:b,onKeyDown:function(e){27===e.keyCode&&d(!1)},onSubmit:function(){var e=Object(s.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D(t).then(Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(b.id);case 2:t=e.sent,v(t),d(!1);case 5:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),action:m.a.resolve(k,["tournament",e.id,"editPlayer"].join("/"))}):r.a.createElement(_e,{player:b,round:i,requireLastName:w,editPlayer:function(){return d(!0)},activatePlayer:_,clearPlayer:O,allowNewPlayers:e.settings.allowNewPlayers,setDisplayPlayer:e.setDisplayPlayer})}var I=Object(a.useMemo)((function(){for(var e=[],t=i;t>=0;t-=.5){var n=t.toString();if(f[n]&&f[n].length){var a=r.a.createElement(he,{key:["sidebar","round",n].join("."),header:n+" points",useInternalState:!0,expanded:!1,id:["container",n].join(".")},f[n].map((function(e){return r.a.createElement(R,{key:e.id,player:e})})));e.push(a)}}return e}),[i,f]);return Object(a.useEffect)((function(){e.playerDict.size&&h(!1)}),[e.playerDict,h]),Object(a.useEffect)((function(){e.playerDict.size&&h()}),[e.playerDict,e.playerDictKey]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:ye.a.sidebar},r.a.createElement(Ee,{name:"tournamentPlayers",setName:function(){},nameDict:{tournamentPlayers:"Tournament Players"}}),r.a.createElement("div",{className:["scrollable",ye.a.playersSection].join(" ")},I.length?null:r.a.createElement("div",{className:ye.a.scoreSection},r.a.createElement("div",{className:ye.a.playerLine},r.a.createElement("div",{className:ye.a.sectionHeader},I.length?"Player List":"No players added yet"))),I,i&&!e.settings.allowNewPlayers?null:r.a.createElement("div",{className:ye.a.scoreSection},P),r.a.createElement(je,null))),r.a.createElement("div",{className:["bottomBanner",ye.a.bottomBanner].join(" ")},function(){for(var e=[],t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];for(var i=0,o=n;i<o.length;i++){var l=o[i];if(l){var s=Object(c.a)(l,3),u=s[0],m=s[1],d=s[2];e.push(r.a.createElement("div",{key:["button",d.toLowerCase()].join("."),onClick:u,className:"button"},m," ",d))}}return e}([Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.togglePasteInput();case 1:case"end":return t.stop()}}),t)}))),r.a.createElement(le.b,null),"Paste"],[Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.updatePlayerDict(!0);case 1:case"end":return t.stop()}}),t)}))),r.a.createElement(le.e,null),"Refresh"],0===i?[Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===i){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,N();case 4:e.updatePlayerDict(),h();case 6:case"end":return t.stop()}}),t)}))),r.a.createElement(M.h,null),"Close"]:null)))}var we=n(5),ke=n.n(we);function Ce(e){var t=e.requireLastName?[e.player.firstName,e.player.lastName].join(" "):e.player.firstName;return r.a.createElement("div",{id:e.player.id,className:[ye.a.playerLine,ke.a.playerLine].join(" ")},r.a.createElement("div",{className:["playerInfo",ye.a.playerInfo].join(" "),onClick:function(t){return e.setDisplayPlayer(t.target.parentElement.id)}},t),r.a.createElement("button",{name:"cancel",className:[ye.a.cancel,ke.a.cancel].join(" "),onClick:e.clearClash},r.a.createElement(Q.c,null)))}function Se(e){var t=Object(a.createRef)(),n=Object(a.useState)(!1),i=Object(c.a)(n,2),o=i[0],l=i[1];Object(a.useEffect)((function(){o&&t.current&&t.current.focus()}),[t,o]);var s=Object(a.useCallback)((function(t){var n=t.target,a=n.value;if(a.trim()){var r=a.length,i=e.players.filter((function(t){return t.id!==e.player.id&&e.getDisplayName(t.id).toLowerCase().startsWith(a.toLowerCase())}))[0];if(i){var o=e.getDisplayName(i.id);n.value=o,n.select(),n.setSelectionRange(r,o.length,"forward")}}}),[e.players]);return r.a.createElement("div",{className:ke.a.scoreSection},r.a.createElement("form",{target:"_self",onSubmit:function(t){return e.onSubmit(t).then((function(){return l(!0)}))},method:"POST",action:e.action},r.a.createElement("input",{type:"text",className:[ye.a.input,ke.a.input].join(" "),name:"oppName",required:!0,placeholder:"Opponent name",onInput:s,autoComplete:"off"}),r.a.createElement("button",{tabIndex:-1,className:ye.a.submit},r.a.createElement(Q.b,null))))}function xe(e){var t=Object(a.useState)(""),n=Object(c.a)(t,2),i=n[0],o=n[1],u=Object(a.useState)(null),d=Object(c.a)(u,2),f=d[0],p=d[1],b=Object(a.useMemo)((function(){return"individual"===e.settings.competitors}),[e.settings.competitors]),v=Object(a.useCallback)((function(e){return e?b?[e.firstName,e.lastName].join(" "):e.firstName:"\u200b"}),[b]);Object(a.useEffect)((function(){!function(t){if(o(i),e.playerID)return!1!==t?S({url:"/tournament/"+e.id+"/fetchPlayer",params:{id:e.playerID}}).then((function(e){e.histories[0]||(e.histories[0]=null),p(e)})):void p(e.playerDict.get(e.playerID));p(null)}()}),[e.playerID,e.playerDictKey]);var g=Object(a.useCallback)((function(t){if(!t)return"\u200b";if("bye"===t)return"BYE";var n=e.playerDict.get(t);return n?b?[n.firstName,n.lastName].join(" "):n.firstName:t}),[e.playerDict,b]),y=Object(a.useCallback)((function(t,n){var a=Object(c.a)(t,2),i=a[0],o=a[1];return"Playing"===i&&o?r.a.createElement("div",{className:ke.a.row,key:["row",n].join(".")},r.a.createElement("div",{className:"fieldBox"},i+":"),r.a.createElement("div",{className:"playerInfo",id:o,onClick:function(t){return e.setDisplayPlayer(t.target.id)}},g(o))):r.a.createElement("div",{className:ke.a.row,key:["row",n].join(".")},r.a.createElement("div",{className:"fieldBox"},i+":"),r.a.createElement("div",{className:"fieldBox"},null!==o&&""!==o?o:"\u200b"))}),[e.setDisplayPlayer,g]),j=Object(a.useState)([]),h=Object(c.a)(j,2),E=h[0],_=h[1],O=Object(a.useCallback)(Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f&&f.id){t.next=2;break}return t.abrupt("return");case 2:S({url:"/tournament/"+e.id+"/fetchClashes",params:{id:f.id}}).then(_);case 3:case"end":return t.stop()}}),t)}))),[e.id,_,f]),N=Object(a.useCallback)(function(){var t=Object(s.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",x({url:"/tournament/"+e.id+"/clearClash",data:{playerId:f.id,oppId:n}}).then(O));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e.id,f,O]),w=Object(a.useMemo)((function(){if(!e.playerDict.size)return null;for(var t=[],n=function(n){var a=e.playerDict.get(E[n][1]);if(!a)return"continue";t.push(r.a.createElement(Ce,{key:["clash",n].join("."),player:a,requireLastName:b,clearClash:function(){return N(a.id)},setDisplayPlayer:e.setDisplayPlayer}))},a=0;a<E.length;a++)n(a);return t}),[e.playerDict,e.playerDictKey,E,N,e.setDisplayPlayer,b]);Object(a.useEffect)((function(){O()}),[O]);var C=Object(a.useMemo)((function(){return Array.from(e.playerDict.values())}),[e.playerDict,e.playerDictKey]);if(!f)return r.a.createElement("div",{className:ke.a.profileContainer},r.a.createElement("div",{className:ke.a.infoBox},"Click on a player to view their details."));var D=v(f),P=f?{"Unique ID":f.id,Status:!1!==f.active?"Active":"Inactive",Rating:f.rating,"Performance rating":f.performanceRating,Playing:f.isPlaying}:{},R=f.histories,I=(Math.max(f.histories.length,1)-1-(f.isPlaying?1:0)).toString(),B=f.histories.reduce((function(e,t){return t?e+=t.played:e}),0),L=f?{Score:f.score.toString()+" / "+I,"Game score":f.gamePoints.toString()+" / "+B.toString(),"Expected score":f.expectedScore.toFixed(2),"Expected game score":f.expectedGameScore.toFixed(2)+" / "+B}:{};return e.settings.displayPoints||(delete L["Game score"],delete L["Expected game score"]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:[ke.a.profileContainer,"scrollable"].join(" ")},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:ke.a.row},r.a.createElement("div",{style:{gridColumn:"1 / span 2",justifyContent:"center"},className:"playerInfo",id:f.id,onClick:function(t){return e.setDisplayPlayer(t.target.id)}},D)),Object.entries(P).map(y))),r.a.createElement(he,{header:"Score",useInternalState:!0,style:{gridColumn:"1 / span 2"}},Object.entries(L).map(y)),e.settings.allowClashes?r.a.createElement(he,{header:"Forbidden Pairings",useInternalState:!0,style:{gridColumn:"1 / span 2"}},w,r.a.createElement(Se,{id:e.id,getDisplayName:g,onSubmit:function(e){e.preventDefault(),e.persist();var t=e.target,n=C.find((function(e){return g(e.id)===t.oppName.value}));return x({data:{playerId:f.id,oppId:n.id},url:t.action}).then((function(){e.target.reset()})).then(O)},player:f,players:C,action:m.a.resolve(k,["tournament",e.id,"createClash"].join("/"))})):null,r.a.createElement(he,{header:"Results",useInternalState:!0,style:{gridColumn:"1 / span 2"}},R.map((function(t,n){if(0===n||!t)return null;var a=t.id,i=t.colour,o=t[e.settings.displayPoints];return r.a.createElement("div",{className:ke.a.resultsRow,key:["row","history",n].join(".")},r.a.createElement("div",{className:"fieldBox"},n),r.a.createElement("div",{className:"playerInfo",id:a,onClick:function(t){return e.setDisplayPlayer(t.target.id)}},g(a)),r.a.createElement("div",{className:"fieldBox"},i||"\u200b"),r.a.createElement("div",{className:"fieldBox"},"undefined"!==typeof o&&null!==o?o:"\u200b"))}))),r.a.createElement(je,null)))}function De(e){return e?e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase():e}function Pe(e,t){var n=Object(a.useState)(e),r=Object(c.a)(n,2),i=r[0],o=r[1];return Object(a.useDebugValue)("".concat(t,": ").concat(i)),[i,o]}var Re={general:{tournamentId:{name:"Unique ID",type:"string",locked:!0,primaryKey:!0},status:{name:"Status",enum:["uninitialised","active","finished"],convert:De,defaultValue:"uninitialised",value:function(e){return e.round?!1===e.active?"finished":"active":"uninitialised"}},pairingSystem:{name:"Pairing system",enum:["swiss"],convert:De,lockOnInit:!0,defaultValue:"swiss"},competitors:{name:"Tournament type",enum:["individual","team"],convert:De,lockOnInit:!0,defaultValue:"individual"},totalRounds:{name:"Total rounds",convert:function(e){return"Infinity"===e?"\u221e":e.toString()},type:"number",defaultValue:1/0,nb:{min:1,max:100},allow:{infinity:!0}},ratingSystem:{name:"Rating system",enum:["ECF","FIDE","USCF"],lockOnInit:!0,defaultValue:"FIDE"},displayPoints:{name:"Show",convert:function(e){return De(e)+" Points"},enum:["match","game"],defaultValue:"match"},gamePointTotal:{name:"Sum results to",type:"number",defaultValue:1,show:{displayPoints:"game"},lockOnInit:!0,nb:{step:1,min:1},allow:{any:!0}},public:{name:"Public",convert:function(e){return De(e.toString())},lockOnInit:!1,type:"boolean",defaultValue:!1}},permissions:{allowNewPlayers:{name:"Mid-way joining?",convert:function(e){return De(e.toString())},lockOnInit:!1,type:"boolean",defaultValue:!0},allowSelfSubmissions:{name:"User submissions?",convert:function(e){return De(e.toString())},lockOnInit:!1,type:"boolean",defaultValue:!0},allowClashes:{name:"Forbid certain pairings?",convert:function(e){return De(e.toString())},lockOnInit:!1,type:"boolean",defaultValue:!0}},points:{lossReward:{name:"Points on loss",lockOnInit:!0,type:"number",defaultValue:0,nb:{step:.1}},drawReward:{name:"Points on draw",lockOnInit:!0,type:"number",defaultValue:.5,nb:{step:.1}},winReward:{name:"Points on win",lockOnInit:!0,type:"number",defaultValue:1,nb:{step:.1}},byeReward:{name:"Bye reward",enum:["win","draw","loss"],lockOnInit:!0,defaultValue:"win"},performanceSystem:{name:"Performance rating",enum:["ELO","FIDE"],lockOnInit:!1,defaultValue:"ELO"}},stats:{nbPlayers:{name:"Number of players",type:"number",defaultValue:0,value:function(e,t){return t.length},convert:function(e){return e.toString()}},activePlayers:{name:"Active players",type:"number",defaultValue:0,value:function(e,t){return t.filter((function(e){return e.active})).length},convert:function(e){return e.toString()}},matchesPlayed:{name:"Matches played",type:"number",defaultValue:0,value:function(e,t){return t.reduce((function(e,t){return e+t.played}),0)/2},convert:function(e){return e.toString()}},gamesPlayed:{name:"Games played",type:"number",defaultValue:0,value:function(e,t){return t.reduce((function(e,t){return e+t.histories.reduce((function(e,t){return t?e+=t.played:e}),0)}),0)/2},convert:function(e){return e.toString()}},averageRating:{name:"Average rating",type:"number",defaultValue:1200,value:function(e,t){var n=t.reduce((function(e,t){return e+t.rating}),0);return Math.round(n/t.length)},convert:function(e){return e.toString()}},createdAt:{name:"Created at",convert:function(e){return new Date(e).toString().slice(0,24)},locked:!0},updatedAt:{name:"Last updated",convert:function(e){return new Date(e).toString().slice(0,24)},locked:!0}},public:{vanityURL:{name:"Custom ID",type:"string",defaultValue:"",action:"updateVanityURL"},url:{name:"URL",type:"link",defaultValue:"",value:function(e,t,n){return"".concat(C,"tournament/").concat(n.vanityURL||e.id).trim()}},profileURL:{name:"Link to website",type:"string"},rulesURL:{name:"Link to rules",type:"string"},logoURL:{name:"Link to profile picture",type:"string"},streamURL:{name:"Stream link",type:"string"},showRatings:{name:"Show ratings",convert:function(e){return De(e.toString())},type:"boolean",defaultValue:!0},roundTimes:{name:"Round times?",convert:function(e){return De(e.toString())},type:"boolean",defaultValue:!1,locked:!1}}},Ie=Object.values(Re).reduce((function(e,t){for(var n=0,a=Object.values(t);n<a.length;n++){var r=a[n];r.show&&e.push.apply(e,Object(fe.a)(Object.keys(r.show)))}return e}),[]);function Be(e){var t=Object(a.useState)("general"),n=Object(c.a)(t,2),i=n[0],o=n[1],l=Object(a.useCallback)((function(t,n,a){try{var r;if(a.enum){var i=a.enum.indexOf(n);-1===i&&console.error("Invalid setting value "+t+": "+n);var o=(i+1)%a.enum.length;r=a.enum[o]}else if("boolean"===a.type)r=!n;else if("number"===a.type){if("Infinity"===n||"\u221e"===n?r=1/0:n=Number(n),"totalRounds"===t){if(n<=e.status.round)throw new Error("Can't make total number of rounds less than current round number");if(n!==1/0&&n>=100)throw new Error("Can't make total number of rounds more than 100")}return n}e.updateSetting(t,r)}catch(l){l&&l.message&&e.triggerError(l.message)}}),[e.status.round,e.updateSetting,e.triggerError]),s=Object(a.useMemo)((function(){return Object.entries(e.settings).filter((function(e){var t=Object(c.a)(e,1)[0];return Ie.includes(t)}))}),[e.settings]);Object(a.useEffect)((function(){!function(){for(var e=0,t=Array.from(document.querySelectorAll("."+[ke.a.sectionListWrapper].join(".")));e<t.length;e++){var n=t[e],a=n.firstElementChild;n.style.height=n.className.includes(ke.a.expanded)?a.getBoundingClientRect().height+"px":"0px"}}()}),[JSON.stringify(s)]);for(var u=Object(a.useCallback)((function(t,n){var a,i=Object(c.a)(t,2),o=i[0],s=i[1],u=!1;if(s.show)for(var f=0,p=Object.entries(s.show);f<p.length;f++){var b=Object(c.a)(p[f],2),v=b[0],g=b[1];e.settings[v]!==g&&(u=!0)}if(u)return null;var y=!1;(s.locked||s.lockOnInit&&e.status.round)&&(y=!0);var j=null!==(a=e.settings[o])&&void 0!==a?a:s.defaultValue,h=s.convert&&!s.value?s.convert(j):j;return r.a.createElement("div",{className:ke.a.row,key:["row",n].join(".")},r.a.createElement("div",{className:["fieldBox",s.show?ke.a.semiPresent:""].join(" ")},s.name,s.name.endsWith("?")?"":":"),y||s.value?(s.value&&(h=s.value(e.status,e.players,e.settings)),s.convert&&(h=s.convert(h)),r.a.createElement("div",{style:{cursor:"link"===s.type?"copy":"default"},className:["fieldBox",ke.a.locked].join(" "),onClick:"link"!==s.type?null:function(){return navigator.clipboard.writeText(h)}},"undefined"!==typeof h?h.toString():"\u200b")):"string"===s.type?r.a.createElement($,{handleSubmit:e.updateSetting,content:h,url:m.a.resolve(k,["tournament",e.status.id,s.action||"updateSetting"].join("/")),inputType:"text",onSubmitSuccess:function(t){return e.updateTournamentSettings(),t},additionalStyles:{editableField:ke.a.editableField,input:ke.a.input},name:o,additionalInputProps:{},show:Object(d.a)({submit:!0},s.allow)}):"number"===s.type?r.a.createElement($,{handleSubmit:e.updateSetting,content:h,url:m.a.resolve(k,["tournament",e.status.id,"updateSetting"].join("/")),inputType:"number",onSubmitSuccess:function(t){return e.updateTournamentSettings(),t},additionalStyles:{editableField:ke.a.editableField,input:ke.a.input},name:o,additionalInputProps:s.nb,show:Object(d.a)({submit:!0,increment:!0},s.allow)}):r.a.createElement("div",{className:["fieldBox",ke.a.editable].join(" "),onClick:function(){return l(o,j,s)}},"undefined"!==typeof h?h.toString():"\u200b"))}),[e.settings,e.status,e.players,e.updateSetting,e.status.id,e.updateTournamentSettings]),f=[],p=e.settings.totalRounds===1/0||"Infinity"===e.settings.totalRounds?Math.max(e.rounds.length,1):e.settings.totalRounds,b=1;b<=p;b++)f.push(b);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:[ke.a.profileContainer,"scrollable"].join(" ")},Object.entries(Re).map((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return"public"==n?null:r.a.createElement(he,{key:n,value:n,header:De(n),expanded:i===n,setExpanded:function(e,t){return o(e?t:"")}},Object.entries(a).map(u))})),r.a.createElement(je,null)))}var Le=Object.values(Re).reduce((function(e,t){for(var n=0,a=Object.values(t);n<a.length;n++){var r=a[n];r.show&&e.push.apply(e,Object(fe.a)(Object.keys(r.show)))}return e}),[]);function Te(e){var t=Object(a.useCallback)((function(t,n,a){try{var r;if(a.enum){var i=a.enum.indexOf(n);-1===i&&console.error("Invalid setting value "+t+": "+n);var o=(i+1)%a.enum.length;r=a.enum[o]}else if("boolean"===a.type)r=!n;else if("number"===a.type){if("Infinity"===n||"\u221e"===n?r=1/0:n=Number(n),"totalRounds"===t){if(n<=e.status.round)throw new Error("Can't make total number of rounds less than current round number");if(n!==1/0&&n>=100)throw new Error("Can't make total number of rounds more than 100")}return n}e.updateSetting(t,r)}catch(l){l&&l.message&&e.triggerError(l.message)}}),[e.status.round,e.updateSetting,e.triggerError]),n=Object(a.useCallback)((function(t){return x({url:"/tournament/"+e.status.id+"/clearRound",data:{round:t}})}),[e.status.id]),i=Object(a.useMemo)((function(){return Object.entries(e.settings).filter((function(e){var t=Object(c.a)(e,1)[0];return Le.includes(t)}))}),[e.settings]);Object(a.useEffect)((function(){!function(){for(var e=0,t=Array.from(document.querySelectorAll("."+[ke.a.sectionListWrapper].join(".")));e<t.length;e++){var n=t[e],a=n.firstElementChild;n.style.height=n.className.includes(ke.a.expanded)?a.getBoundingClientRect().height+"px":"0px"}}()}),[JSON.stringify(i)]);for(var o=Object(a.useCallback)((function(t){return r.a.createElement("div",{className:[ke.a.row,ke.a.roundRow].join(" "),key:["row",t].join(".")},r.a.createElement("div",{className:"fieldBox"},"Round ".concat(t,":")),r.a.createElement($,{handleClear:function(){return n(t)},content:e.rounds[t]?e.rounds[t].toString():"",defaultEditContent:new Date(Date.now()).toString(),url:m.a.resolve(k,["tournament",e.status.id,"updateRound"].join("/")),inputType:"datetime-local",onSubmitSuccess:function(t){return e.updateRounds(),t},additionalStyles:{editableField:ke.a.editableField,input:ke.a.input},additionalInputProps:{},name:"round."+t.toString(),show:{submit:!0,increment:!1,clear:!0},handleSubmit:function(t,n){var a=t.split(".").pop();return x({url:m.a.resolve(k,["tournament",e.status.id,"updateRound"].join("/")),data:Object(G.a)({},Number(a),new Date(n).toISOString())})},useHandleSubmit:!0}))}),[e.updateSetting,e.rounds,e.status.id,e.updateRounds]),l=Object(a.useCallback)((function(n,a){var i,o=Object(c.a)(n,2),l=o[0],s=o[1],u=!1;if(s.show)for(var f=0,p=Object.entries(s.show);f<p.length;f++){var b=Object(c.a)(p[f],2),v=b[0],g=b[1];e.settings[v]!==g&&(u=!0)}if(u)return null;var y=!1;(s.locked||s.lockOnInit&&e.status.round)&&(y=!0);var j=null!==(i=e.settings[l])&&void 0!==i?i:s.defaultValue,h=s.convert&&!s.value?s.convert(j):j;return r.a.createElement("div",{className:ke.a.row,key:["row",a].join(".")},r.a.createElement("div",{className:["fieldBox",s.show?ke.a.semiPresent:""].join(" ")},s.name,s.name.endsWith("?")?"":":"),y||s.value?(s.value&&(h=s.value(e.status,e.players,e.settings)),s.convert&&(h=s.convert(h)),r.a.createElement("div",{style:{cursor:"link"===s.type?"copy":"default"},className:["fieldBox",ke.a.locked].join(" "),onClick:"link"!==s.type?null:function(){return navigator.clipboard.writeText(h)}},"undefined"!==typeof h?h.toString():"\u200b")):"string"===s.type?r.a.createElement($,{handleSubmit:e.updateSetting,content:h,url:m.a.resolve(k,["tournament",e.status.id,s.action||"updateSetting"].join("/")),inputType:"text",onSubmitSuccess:function(t){return e.updateTournamentSettings(),t},additionalStyles:{editableField:ke.a.editableField,input:ke.a.input},name:l,additionalInputProps:{},show:Object(d.a)({submit:!0,clear:!0},s.allow)}):"number"===s.type?r.a.createElement($,{handleSubmit:e.updateSetting,content:h,url:m.a.resolve(k,["tournament",e.status.id,"updateSetting"].join("/")),inputType:"number",onSubmitSuccess:function(t){return e.updateTournamentSettings(),t},additionalStyles:{editableField:ke.a.editableField,input:ke.a.input},name:l,additionalInputProps:s.nb,show:Object(d.a)({submit:!0,increment:!0},s.allow)}):r.a.createElement("div",{className:["fieldBox",ke.a.editable].join(" "),onClick:function(){return t(l,j,s)}},"undefined"!==typeof h?h.toString():"\u200b"))}),[e.settings,e.status,e.players,e.updateSetting,e.status.id,e.updateTournamentSettings]),s=[],u=e.settings.totalRounds===1/0||"Infinity"===e.settings.totalRounds?Math.max(e.rounds.length,1):e.settings.totalRounds,f=1;f<=u;f++)s.push(f);var p=Re.public;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:[ke.a.profileContainer,"scrollable"].join(" ")},r.a.createElement(he,{key:"public",value:"public",header:"Information",useInternalState:!0,expanded:!0},Object.entries(p).map(l)),e.settings.roundTimes?r.a.createElement(he,{key:"rounds",value:"rounds",header:"Rounds",useInternalState:!0,expanded:!0},s.map(o)):null,e.settings.logoURL?r.a.createElement(he,{key:"profile",value:"profile",header:"Profile",useInternalState:!0,expanded:!0},e.settings.profileURL?r.a.createElement("a",{href:e.settings.profileURL.trim()},r.a.createElement("img",{className:ke.a.profilePicture,src:e.settings.logoURL.trim(),alt:"Invalid image URL"})):r.a.createElement("div",null,r.a.createElement("img",{className:ke.a.profilePicture,src:e.settings.logoURL.trim(),alt:"Invalid image URL"}))):null,r.a.createElement(je,null)))}var Fe=n(15),Me=n.n(Fe),Ue={pre:{id:{name:"",className:"blank",sort:!1,value:function(){return 0},postConvert:function(e,t){return(1+t).toString()}},name:{name:"Name",className:"player",id:function(e){return e.id},sort:function(e,t){return e>t?1:e<t?-1:0},value:function(e,t,n){return"individual"===n.competitors?[e.firstName,e.lastName].join(" "):e.firstName}},rating:{name:"Rating",className:"locked",value:function(e){return e.rating},show:function(e,t,n){return n.showRatings}}},roundColumn:{name:function(e,t){return e.slice(-1)},className:function(e,t,n){return"*"===e?"edit":""===e?"unset":"locked"},value:function(){},convert:function(e,t,n){if(""===e)return"";if("*"===e)return"*";var a,r=parseInt(e);return a=.5===r?"\xbd":r.toString(),e.endsWith("b")&&(a+="b"),a},sort:function(e,t){if(e===t)return 0;if(""===e)return-1;if(""===t)return-1;if("*"===e)return 1;if("*"===t)return-1;var n=[parseInt(e),parseInt(t)],a=n[0],r=n[1];return e.endsWith("b")&&(a-=.001),t.endsWith("b")&&(r-=.001),r-a}},post:{score:{name:"MP",className:"locked",value:function(e){return parseFloat(e.score.toString())},convert:function(e,t){return e.toFixed(1)+" / "+t.played}},gamePoints:{name:"GP",className:"locked",value:function(e){return e.gamePoints},convert:function(e){return e.toFixed(1)}},winPercentage:{name:"Win %",className:"rating",value:function(e){return 0===e.played?-1:100*e.score/e.played},convert:function(e){return e<0?"-":e.toFixed()}},performanceRating:{name:"Perf",className:"rating",value:function(e){return e.performanceRating},convert:function(e){return e.toFixed()},show:function(e,t,n){return n.showRatings}},ratingDifference:{name:"P. +/-",className:"rating",value:function(e){return e.performanceRating?e.performanceRating-e.rating:0},convert:function(e){return e?e>0?"+"+e.toString():e.toString():""},show:function(e,t,n){return n.showRatings}},expectedScore:{name:"Expected",className:"rating",value:function(e){return e.expectedScore},convert:function(e,t){return e.toFixed(1)+" / "+t.played},show:function(e,t,n){return n.showRatings}},expectedDifference:{name:"E. +/-",className:"rating",value:function(e){return e.score-e.expectedScore},convert:function(e){return"undefined"===typeof e?"":e>0?"+"+e.toFixed(2):e.toFixed(2)},show:function(e,t,n){return n.showRatings}}}};function He(e){var t=Object(a.useMemo)((function(){return e.status.round>e.settings.totalRounds||"Infinity"===e.settings.totalRounds?e.status.round:e.settings.totalRounds}),[e.status.round,e.settings.totalRounds]),n=Object(a.useMemo)((function(){for(var e=[],n=1;n<=t;n++)e.push("round."+n.toString());return e}),[t]),i=Object(a.useMemo)((function(){return[].concat(Object(fe.a)(Object.keys(Ue.pre)),Object(fe.a)(n),Object(fe.a)(Object.keys(Ue.post)))}),[n]).filter((function(t,n){var a=Ue.pre[t]||Ue.post[t];return!a||!(a.show&&!a.show(null,n,e.settings))})),o=Object(a.useCallback)((function(e,t){return i.includes(t)?e[0]!==t?[t,0]:[t,e[1]+1]:["",0]}),[i]),l=Object(a.useReducer)(o,["score",0]),s=Object(c.a)(l,2),u=s[0],m=s[1],d=Object(a.useCallback)((function(n){for(var a=[""],r=1;r<=t;r++)n.histories[r]?(null===n.histories[r].match?a[r]="*":a[r]=n.histories[r].match.toString(),"bye"===n.histories[r].id&&(a[r]+="b")):r===e.status.round?a[r]="*":a[r]="";return a.slice(1)}),[t,e.status.round]),f=Object(a.useMemo)((function(){for(var t=[],n=function(n){for(var a=e.players[n],r=[],i=0,o=Object.entries(Ue.pre);i<o.length;i++){var l=Object(c.a)(o[i],2),s=(l[0],l[1]);s.show&&!s.show(a,n,e.settings)||r.push([s.value(a,n,e.settings),s,a])}for(var u=d(a).map((function(e){return[e,Ue.roundColumn,a]})),m=[],f=0,p=Object.entries(Ue.post);f<p.length;f++){var b=Object(c.a)(p[f],2),v=(b[0],b[1]);v.show&&!v.show(a,n,e.settings)||m.push([v.value(a,n,e.settings),v,a])}var g=[].concat(r,Object(fe.a)(u),m);t.push(g)},a=0;a<e.players.length;a++)n(a);var o=function(e,t){return t-e},l=u[0].startsWith("round")?Ue.roundColumn:Ue.pre[u[0]]||Ue.post[u[0]];if(l&&!1!==l.sort){l.sort&&(o=l.sort);var s=i.indexOf(u[0]);t=t.sort((function(e,t){return u[1]%2?o(t[s][0],e[s][0]):o(e[s][0],t[s][0])}))}return t.map((function(t,n){return r.a.createElement("tr",{key:"row."+n,className:Me.a.tr},t.map((function(t,a){var i=Object(c.a)(t,3),o=i[0],l=i[1],s=i[2],u=o?o.toString():"";l.convert?u=l.convert(o,s,e.settings):l.postConvert&&(u=l.postConvert(u,n)),"undefined"!==typeof u&&""!==u||(u="\u200b");var m="function"===typeof l.className?l.className(u,a,e.settings):l.className;return r.a.createElement("th",null,r.a.createElement("div",{id:l.id?l.id(s,a):void 0,key:[o,a].join("."),className:[Me.a.cell,Me.a[m]].join(" "),onClick:"Name"===l.name&&l.id?function(){return e.setDisplayPlayer(l.id(s,a))}:null},u))})))}))}),[e.players,e.settings,d,u]),p="Tournament '".concat(e.status.name||e.status.id,"' results after ").concat(e.status.round," rounds");return r.a.createElement("div",{className:[Me.a.gridPage,"scrollable"].join(" ")},r.a.createElement("div",{className:Me.a.titles},r.a.createElement("div",null,p),r.a.createElement("div",{className:["button",Me.a.closeButton].join(" "),onClick:e.show},r.a.createElement(le.a,null))),r.a.createElement("table",{className:Me.a.table},r.a.createElement("thead",null,r.a.createElement("tr",null,i.map((function(e,t){var n=e.startsWith("round")?Ue.roundColumn:Ue.pre[e]||Ue.post[e];return r.a.createElement("th",{scope:"column",key:["column",t].join("."),className:Me.a.th,id:e,onClick:function(){return m(e)}},r.a.createElement("div",{className:[Me.a.cell,Me.a.headerCell].join(" ")},"function"===typeof n.name?n.name(e,t):n.name))})))),r.a.createElement("tbody",null,f)))}function qe(e){var t=Object(a.useCallback)((function(t){t.preventDefault();var n=t.target.textArea.value;if(n.trim()&&(n.split("\n").length||!n.split(",").length||!n.split("\t").length)){var a=ve.a.parse(n,{delimitersToGuess:[",","\t"],dynamicTyping:!0,fastMode:!0});if(a.data.length>150)return console.error("Can't paste more than 150 players at once!");var r=a.data.map((function(e){var t=Object(c.a)(e,2),a=t[0],r=t[1];try{if("string"!==typeof a)throw[a,"string"].join(",");if("number"!==typeof r)throw[r,"number"].join(",");return{firstName:a,rating:r}}catch(o){if(!n.split("\n").length)return null;var i=o.split(",");return console.error(new TypeError("Bad input on row "+e.join(",")+"\n"+i[0]+" is not type "+i[1])),null}})).filter((function(e){return e}));x({url:"tournament/"+e.id+"/appendPlayers",data:r})}}),[e.id,!1,e.updatePlayerDict]),n="CSV player data entry for tournament '".concat(e.status.name||e.status.id,"'");return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Me.a.titles},r.a.createElement("div",null,n),r.a.createElement("div",{className:["button",Me.a.closeButton].join(" "),onClick:e.closePasteInput},r.a.createElement(le.a,null))),r.a.createElement("div",{className:Me.a.subheader},"Please paste your input in csv (comma-separated values) format"),r.a.createElement("div",{className:Me.a.container},r.a.createElement("form",{className:Me.a.form,target:"_self",onSubmit:t,method:"POST"},r.a.createElement("textarea",{className:Me.a.textarea,name:"textArea"}),r.a.createElement("button",{type:"submit",className:Me.a.submit},"SUBMIT"))))}var Ve=[30.8,38.4,30.8];function Ae(e){var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0),t.eventName=e,document.dispatchEvent(t)}function ze(e){var t=Object(a.useState)(e),n=Object(c.a)(t,2),r=n[0],i=n[1];Object(a.useEffect)((function(){JSON.stringify(e)!==JSON.stringify(r)&&(w.set("columns",e.map((function(e){return e.toString()})).join(",")),i(e))}),[e])}function We(e){var t=Object(a.useReducer)((function(e,t){return t}),Ve),n=Object(c.a)(t,2),i=n[0],o=n[1],u=Object(a.useState)(0),m=Object(c.a)(u,2),f=m[0],p=m[1],b=Object(a.useMemo)((function(){return i.reduce((function(e,t){var n;return e.push((null!==(n=e[e.length-1])&&void 0!==n?n:0)+t),e}),[]).slice(0,-1)}),[i]);ze(i);var v=Object(a.useState)(0),g=Object(c.a)(v,2),y=g[0],j=g[1],h=Object(a.useState)(""),E=Object(c.a)(h,2),_=E[0],O=E[1],N=Object(a.useState)(!1),k=Object(c.a)(N,2),C=k[0],D=k[1],P=Object(a.useState)(!1),R=Object(c.a)(P,2),I=R[0],B=R[1],L=Object(a.useState)(void 0),T=Object(c.a)(L,2),F=T[0],U=T[1],H=Object(a.useState)(!1),q=Object(c.a)(H,2),V=q[0],A=q[1],z=Object(a.useState)(!1),W=Object(c.a)(z,2),Y=W[0],X=W[1],Z=function(){return D(!C)},Q=Object(a.useCallback)((function(e){return X(null!==e&&void 0!==e?e:!Y)}),[Y]),$=Object(a.useCallback)(Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.get("columns");case 2:(t=e.sent)&&o(t.split(",").map((function(e){return Number(e)})));case 4:case"end":return e.stop()}}),e)}))),[o]);Object(a.useEffect)((function(){$()}),[$]);var ee=Object(a.useCallback)((function(e,t){var n=t.set;if(0===i[0]){var a=i.slice(0);return a[0]=Ve[0],a[1]<Ve[0]?a=Ve:a[1]=a[1]-Ve[0],o(a),!0}return"boolean"===typeof n?n:!e}),[i,o]),te=Object(a.useCallback)((function(e,t){var n=t.set;if(!1!==n&&100===b[b.length-1]){var a=i.slice(0);return a[a.length-1]=Ve[a.length-1],a[a.length-2]<Ve[a.length-2]?a=Ve:a[a.length-2]=a[a.length-2]-Ve[a.length-1],o(a),!0}return"boolean"===typeof n?n:!e}),[i,O,b]),ne=Object(a.useReducer)(te,!0),ae=Object(c.a)(ne,2),re=ae[0],ie=ae[1],oe=Object(a.useState)("settings"),se=Object(c.a)(oe,2),ue=se[0],me=se[1],fe=Object(a.useReducer)(ee,!0),be=Object(c.a)(fe,2),ve=be[0],ge=be[1],ye=Object(a.useCallback)((function(e){re||ie({set:!0}),"player"!==ue&&me("player"),O(e)}),[O,ue,me,re,ie]),je=Object(a.useState)(Math.random().toString(16).slice(2,9)),he=Object(c.a)(je,2),_e=he[0],Oe=he[1],we=Object(a.useState)({}),ke=Object(c.a)(we,2),Ce=ke[0],Se=ke[1],De=Object(a.useState)({}),Pe=Object(c.a)(De,2),Re=Pe[0],Ie=Pe[1],Le=Object(a.useState)([]),Fe=Object(c.a)(Le,2),Me=Fe[0],Ue=Fe[1],We=Object(a.useState)([]),Ge=Object(c.a)(We,2),Ke=Ge[0],Ye=Ge[1];!function(e){var t=e.columns,n=e.boundaries,r=e.resize,i=e.setColumns,o=e.setResize,l=e.toggleSidebar,s=e.toggleRightTab,u=Object(a.useState)(0),m=Object(c.a)(u,2),d=m[0],f=m[1],p=Object(a.useCallback)((function(e){var a=e.x/window.innerWidth*100;if(d){var r=t.slice(0,d-1).reduce((function(e,t){return e+t}),0),c=r+t[d-1]+t[d],u=a-r,m=c-a;u<2?(m+=u,u=0,1===d&&l({set:!1}),Ae("mouseup")):m<2&&(u+=m,m=0,d===t.length-1&&(Ae("mouseup"),s({set:!1}))),t[d-1]=u,t[d]=m,i(t.slice(0))}else{var f=n.findIndex((function(e){return Math.abs(e-a)<.2}));(0===f&&0===n[0]||f===n.length-1&&100===n[n.length-1])&&(f=-1),o(f+1)}}),[d,t,o,i,n,l,s]);ze(t),Object(a.useEffect)((function(){return document.addEventListener("mousemove",p),function(){return document.removeEventListener("mousemove",p)}}),[d,p]),Object(a.useEffect)((function(){if(r){var e=function(){return f(r)};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}}),[r,f]),Object(a.useEffect)((function(){var e=function(){return f(0)};return document.addEventListener("mouseup",e),function(){return document.removeEventListener("mouseup",e)}}),[r,f])}({columns:i,boundaries:b,resize:f,setColumns:o,setResize:p,toggleSidebar:ge,toggleRightTab:ie});var Je=Object(a.useState)(!1),Xe=Object(c.a)(Je,2),Ze=Xe[0],Qe=Xe[1],$e=Object(a.useState)(Date.now()),et=Object(c.a)($e,2),tt=et[0],nt=et[1],at=Object(a.useCallback)((function(e,t){if(t.id)return e.delete(t.id),t.id===_&&ye(""),e;var n;n=t.players?t.players:[t.player];var a,r=Object(K.a)(n);try{for(r.s();!(a=r.n()).done;){var i=a.value;e.set(i.id,i)}}catch(o){r.e(o)}finally{r.f()}return Oe(t.hash||Math.random().toString(16).slice(2,9)),e}),[ye,Oe,_,tt]),rt=Object(a.useReducer)(at,new Map),it=Object(c.a)(rt,2),ot=it[0],lt=it[1],st=Object(a.useCallback)((function(t){return!t&&Date.now()-tt<3e3?(nt(Date.now()),Qe(!0),Promise.resolve()):S({url:"/tournament/"+e.id+"/fetchPlayers"}).then((function(e){nt(Date.now()),Qe(!1),Ye(e),lt({players:e})}))}),[e.id,Ye,Oe,lt,tt]);Object(a.useEffect)((function(){if(Ze){var e=setTimeout(st,5e3);return function(){return clearTimeout(e)}}}),[Ze,st]);var ct=Object(a.useCallback)((function(){return S({url:"/tournament/"+e.id+"/getStatus"}).then(Se)}),[e.id,Se]),ut=Object(a.useCallback)((function(){return S({url:"/tournament/"+e.id+"/getSettings"}).then(Ie)}),[e.id,Ie]),mt=Object(a.useCallback)((function(t,n){return x({url:"tournament/"+e.id+"/updateSetting",data:Object(G.a)({},t,n)}).then(ut)}),[e.id,ut]),dt=Object(a.useCallback)((function(){return S({url:"/tournament/"+e.id+"/fetchRounds"}).then(Ue)}),[e.id,Ue]),ft=Object(a.useCallback)(Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(Ke.filter((function(e){return!1!==e.active})).length>=2);case 1:case"end":return e.stop()}}),e)}))),[Ke,A,st]);if(Object(a.useEffect)((function(){if(!e.id)return null;dt(),ct(),ut(),st(!0)}),[e.id,dt,ct,ut]),!e.id)return null;if(C)return r.a.createElement("div",{className:J.a.tournament},r.a.createElement(He,{show:Z,setDisplayPlayer:ye,status:Ce,players:Ke,settings:Re}),re?r.a.createElement("div",{className:J.a.profile},r.a.createElement(Ee,{name:ue,setName:function(e){return me(e)},nameDict:{player:r.a.createElement(r.a.Fragment,null,r.a.createElement(M.d,null),"Profile")}}),r.a.createElement(xe,{id:e.id,playerID:_,setDisplayPlayer:ye,playerDict:ot,modifyPlayerDict:function(e,t){return lt({player:e,hash:t})},settings:Re})):null);if(I)return r.a.createElement("div",{className:J.a.tournament},r.a.createElement(qe,{closePasteInput:function(){return B(!1)},status:Ce,settings:Re,id:e.id,updatePlayerDict:st}));var pt={};return f&&(pt.cursor="ew-resize"),r.a.createElement("div",{className:J.a.tournament,style:Object(d.a)({gridTemplateColumns:i.join("% ")+"%"},pt)},ve?r.a.createElement(Ne,{playerDict:ot,playerDictKey:_e,updatePlayerDict:st,setPlayerDict:lt,settings:Re,id:e.id,setDisplayPlayer:ye,checkIfEnoughPlayers:ft,togglePasteInput:function(){return B(!0)}}):null,r.a.createElement(ce,{userRound:y,setRound:j,status:Ce,settings:Re,updateTournamentStatus:ct,round:Ce.round,totalRounds:Re.totalRounds,closeTournament:e.closeTournament,toggleCrossTable:Z,setLastRound:U,lastRoundOverride:F,triggerError:e.triggerError,switchPairings:Q}),Y?r.a.createElement(pe,{userRound:y,status:Ce,playerDict:ot,updatePlayerDict:st,settings:Re,id:e.id,playerDictKey:_e,triggerConfirm:e.triggerConfirm,switchPairings:Q}):r.a.createElement(de,{userRound:y,status:Ce,playerDict:ot,updatePlayerDict:st,settings:Re,id:e.id,canTriggerNextRound:V,toggleSidebar:function(){return ge({})},toggleRightTab:function(){return ie({set:!re})},setDisplayPlayer:ye,updateRound:ct,setLastRound:U,lastRoundOverride:F,toggleCrossTable:Z,playerDictKey:_e,triggerConfirm:e.triggerConfirm}),re?r.a.createElement("div",{className:J.a.profile},r.a.createElement(Ee,{name:ue,setName:function(e){return me(e)},nameDict:{settings:r.a.createElement(r.a.Fragment,null,r.a.createElement(M.e,null),"Settings"),player:r.a.createElement(r.a.Fragment,null,r.a.createElement(M.d,null),"Profile"),public:Re.public?r.a.createElement(r.a.Fragment,null,r.a.createElement(le.d,null),"Public"):""}}),"settings"===ue?r.a.createElement(Be,{updateTournamentSettings:ut,updateSetting:mt,status:Ce,settings:Re,setLastRound:U,triggerError:e.triggerError,players:Ke,updateRounds:dt,rounds:Me}):"player"===ue?r.a.createElement(xe,{id:e.id,playerID:_,setDisplayPlayer:ye,playerDict:ot,modifyPlayerDict:function(e,t){return lt({player:e,hash:t})},settings:Re,playerDictKey:_e}):"public"===ue?r.a.createElement(Te,{updateTournamentSettings:ut,updateSetting:mt,status:Ce,settings:Re,setLastRound:U,triggerError:e.triggerError,players:Ke,updateRounds:dt,rounds:Me}):null):null)}var Ge=n(9),Ke=n.n(Ge);function Ye(e){return r.a.createElement("span",{id:e.id,className:e.className,style:Object(d.a)({height:e.radius,width:e.radius,lineHeight:e.radius,borderRadius:"50%",display:"inline-block",cursor:"default"},e.style),onClick:e.onClick,onMouseEnter:e.onMouseEnter},e.content)}var Je={username:{name:"Username",type:"string",locked:!0,primaryKey:!0},email:{name:"Email",type:"string",locked:!0,defaultValue:""},licensed:{name:"License",type:"number",defaultValue:0,locked:!0,convert:function(e){return 1===e?"Trial":2===e?"Licensed":3===e?"Admin":"Free"}},daysRemaining:{name:"Trial time",type:"number",locked:!0,value:function(e){return Math.floor(30-(t=new Date(e.lastLicensed),(new Date(Date.now()).valueOf()-t.valueOf())/864e5));var t},convert:function(e){return e+" days"},validate:function(e){return!!e}},lastLicensed:{name:"Last licensed",type:"date",defaultValue:null,locked:!0,convert:function(e){return new Date(e).toString().slice(0,21)},validate:function(e){return!!e}},createdAt:{name:"Account created",convert:function(e){return new Date(e).toString().slice(0,21)},locked:!0,defaultValue:Date.now()},updatedAt:{name:"Last seen",convert:function(e){return new Date(e).toString().slice(0,21)},locked:!0,defaultValue:Date.now()}};function Xe(e){var t=e.getBoundingClientRect();return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2-30}}function Ze(e,t,n,a){var i,o,l=Math.abs(n.x-t.x),s=Math.abs(n.y-t.y),c=(i=n.x-t.x,o=n.y-t.y,Math.sqrt(Math.pow(i,2)+Math.pow(o,2))),u=Math.sign((n.x-t.x)*(n.y-t.y)),m=180*Math.atan(s/l)/Math.PI;return r.a.createElement("div",{key:["line",n.x,n.y].join("."),className:Ke.a.line,style:{width:c+"px",height:a+"px",backgroundColor:"white",position:"absolute",left:e?(t.x+n.x)/2-l/2:t.x-l/2,top:e?(t.y+n.y)/2:t.y,transform:"rotate(".concat(m*u,"deg) scaleX(").concat(e?1:0,") scaleY(1)"),opacity:e?1:0,transition:"transform 3s, left 3s, top 3s, opacity 3s"}})}function Qe(e){var t=Pe({},"tournamentDict"),n=Object(c.a)(t,2),i=n[0],o=n[1],u=Pe(!0,"loading"),m=Object(c.a)(u,2),d=m[0],f=m[1],p=Pe(!1,"loadingOverride"),b=Object(c.a)(p,2),v=b[0],g=b[1],y=Pe(!1,"linesMounted"),j=Object(c.a)(y,2),h=j[0],E=j[1],_=Pe(!1,"adjustedLines"),O=Object(c.a)(_,2),N=O[0],k=O[1],C=Pe("","selected"),D=Object(c.a)(C,2),P=D[0],R=D[1],I=Object(a.useCallback)((function(){return S({url:"/tournaments"}).then((function(e){return o(e),e})).catch((function(t){return console.error(t),e.endSession(),{}}))}),[o,e.endSession]),B=Object(a.useCallback)((function(e){return e?Object.values(i).length?e in i?Promise.resolve():Promise.reject():I().then((function(t){if(void 0===t[e])throw new Error})):Promise.reject()}),[i,I]),T=Object(a.useCallback)((function(t){return B(t).then((function(){w.set("tournamentID",t,{path:"/"}).catch(console.error),e.setTournamentID(t)})).catch((function(){w.remove("tournamentID").catch(console.error),e.setTournamentID("")}))}),[B,e.setTournamentID]),F=Object(a.useCallback)(Object(s.a)(l.a.mark((function t(){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x({url:"/initialise"});case 3:if(n=t.sent){t.next=6;break}throw new Error;case 6:return e.setTournamentID(n),t.next=9,I();case 9:t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),(a=t.t0).response&&401!==a.response.status||e.endSession();case 15:case"end":return t.stop()}}),t,null,[[0,11]])}))),[e.setTournamentID,I,e.endSession]),H=Object(a.useCallback)(function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=6;break}return e.next=3,x({url:"/closeAuthorization/all"});case 3:o({}),e.next=11;break;case 6:return delete(n=Object.assign({},i))[t],e.next=10,x({url:"/closeAuthorization/"+t});case 10:o(n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i,o]),V=Object(a.useState)([]),A=Object(c.a)(V,2),z=A[0],W=A[1],G=Object(a.useRef)(),K=Object(a.useCallback)((function(){if(G.current){for(var e=Xe(G.current),t=[],n=0,a=Array.from(document.getElementsByClassName(Ke.a.dot));n<a.length;n++){var r=a[n];"0"!==r.style.opacity&&t.push(Ze(h,e,Xe(r),2))}W(t)}}),[G,Ze,h]);Object(a.useEffect)((function(){K(),E(!0);var e=setTimeout((function(){return k(!0)}),3e3);return function(){return clearTimeout(e)}}),[K,k,E,P]);var Y=Object(a.useMemo)((function(){return{create:{onClick:F,content:r.a.createElement(Q.g,null),description:"Create new Swiss tournament"},roundRobin:{onClick:function(){},content:r.a.createElement(q.c,null),description:"Create new Round-Robin tournament"},settings:{onClick:function(){},content:r.a.createElement(M.e,null),description:"User settings"},load:{onClick:I,content:r.a.createElement(se.b,null),description:"Load previous tournaments"},back:{onClick:e.endSession,content:r.a.createElement(M.f,null),description:"Exit to login"},close:{onClick:function(){return e.triggerConfirm("Delete all saved tournaments?",H,(function(){}))},noSet:!0,content:r.a.createElement(M.h,null),description:"Close all tournaments",style:{border:"8px solid darkred"}},refresh:{onClick:I,noSet:!0,content:r.a.createElement(le.e,null),description:"Refresh tournament list",style:{border:"8px solid darkblue"}}}}),[F,I,e.endSession,e.triggerConfirm,H,R]),X=Object(a.useCallback)((function(e,t){var n=e.reduce((function(e,t){return t in Y?(e[t]=Y[t],e):e}),{});return Object.entries(n).reduce((function(e,n,a){var i=Object(c.a)(n,2),o=i[0],u=i[1],m=[r.a.createElement("div",{className:[Ke.a.dotDescription,P===o?Ke.a.descriptionSelected:""].join(" "),key:["navData",t,"description",a].join(".")},u.description),r.a.createElement(Ye,{key:["navData",t,"dot",a].join("."),radius:"50px",className:[Ke.a.dot,N?"":Ke.a.dotUnloaded].join(" "),id:o,content:u.content,onClick:function(){var e=Object(s.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P!==o){e.next=4;break}R(""),e.next=7;break;case 4:return e.next=6,u.onClick(t);case 6:u.noSet||R(o);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),style:u.style})];return"right"===t&&(m=m.reverse()),e.push(r.a.createElement("div",{className:[Ke.a.dotContainer,N?Ke.a.dotContainerLoaded:""].join(" "),key:["NavData",t,"div",a].join("i")},m)),e}),[])}),[Y,N,P,R]),Z=Object(a.useCallback)(Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.get("tournamentID");case 2:(t=e.sent)&&T(t);case 4:case"end":return e.stop()}}),e)}))),[T]);Object(a.useEffect)((function(){Z()}),[Z]),Object(a.useEffect)((function(){window.addEventListener("resize",K);var e=setTimeout((function(){return f(!1)}),3e3);return function(){window.removeEventListener("resize",K),clearTimeout(e)}}),[K,f]);var $=Object(a.useMemo)((function(){switch(P){case"load":return X(["refresh","close","load"],"left");case"settings":default:return X(["create","settings","load"],"left")}}),[P,X]),ee=Object(a.useMemo)((function(){return P?r.a.createElement("div",{className:J.a.profile},r.a.createElement(Ee,{name:P,setName:function(e){return R(e)},nameDict:{settings:r.a.createElement(r.a.Fragment,null,r.a.createElement(M.e,null),"User Settings"),load:r.a.createElement(r.a.Fragment,null,r.a.createElement(se.b,null),"Previous Tournaments")}}),"load"===P?r.a.createElement($e,{setTournamentID:T,createNewTournament:F,removeID:H,updateTournamentSettings:I,tournamentDict:i,closeListing:function(){return R("")},triggerConfirm:e.triggerConfirm}):"settings"===P?r.a.createElement(et,{updateTournamentSettings:function(){return Promise.resolve()},updateSetting:function(){return Promise.resolve()},closeListing:function(){return R("")}}):null):X(["back"],"right")}),[R,P,T,F,H,I,i,e.triggerConfirm,X]);return r.a.createElement("div",{className:L.a.canvas},z,r.a.createElement("div",{className:[L.a.column,Ke.a.leftColumn].join(" ")},$),r.a.createElement("div",{ref:G,className:[L.a.column,Ke.a.column].join(" ")},r.a.createElement(U,{setLoading:function(e){return g(e)},loading:d||v,classNames:{logo:Ke.a.logo}})),r.a.createElement("div",{className:[L.a.column,Ke.a.rightColumn].join(" ")},ee))}function $e(e){var t=Object(a.useState)(0),n=Object(c.a)(t,2),i=n[0],o=n[1],l=Object(a.useCallback)((function(t){var n=Object.keys(t).reduce((function(t,n){var a=e.tournamentDict[n];return a?(t[a]||(t[a]=0),t[a]++,t):t}),{});return Object.entries(t).map((function(t,a){var i=Object(c.a)(t,2),o=i[0],l=i[1],s=void 0===n[l]?o:1===n[l]?l:l+"\n"+o;return r.a.createElement("div",{className:[ke.a.row,Ke.a.row].join(" "),key:["row",a].join(".")},r.a.createElement("div",{className:[Ke.a.clickButton,"fieldBox"].join(" "),onClick:function(){return e.setTournamentID(o)}},s),r.a.createElement("div",{className:[Ke.a.clickButton,Ke.a.close,"fieldBox"].join(" "),onClick:function(){e.triggerConfirm("Delete tournament '"+s+"'?\nPlease note this action cannot be undone.",(function(){return e.removeID(o)}),(function(){}))}},r.a.createElement(M.c,null)))})).filter((function(e){return e}))}),[e.tournamentDict,e.setTournamentID,e.triggerConfirm,e.removeID]),s=r.a.useRef();return Object(a.useEffect)((function(){var e=setTimeout((function(){s.current&&o(s.current.getBoundingClientRect().height)}),250);return function(){return clearTimeout(e)}}),[s,e.tournamentDict,l,o]),r.a.createElement("div",{className:Ke.a.sidebar},r.a.createElement("div",{className:[J.a.profile,Ke.a.profile].join(" ")},r.a.createElement("div",{className:"topBanner"},"Load Tournament"),r.a.createElement("div",{className:"scrollable"},r.a.createElement("div",{className:Ke.a.listWrapper,style:{height:i}},r.a.createElement("div",{ref:s,className:Ke.a.listing},l(e.tournamentDict))))),r.a.createElement("div",{className:["bottomBanner",Ke.a.bottomBanner].join(" ")},r.a.createElement("div",{onClick:e.createNewTournament,className:"button"},r.a.createElement(q.d,null)),r.a.createElement("div",{onClick:e.closeListing,className:"button"},r.a.createElement(M.f,null))))}function et(e){var t=Object(a.useState)(0),n=Object(c.a)(t,2),i=n[0],o=n[1],l=Pe({},"user"),s=Object(c.a)(l,2),u=s[0],m=s[1],d=Object(a.useCallback)((function(){return S({url:"/profile"}).then(m)}),[m]);Object(a.useEffect)((function(){d()}),[d]);var f=r.a.useRef();Object(a.useEffect)((function(){var e=setTimeout((function(){f.current&&o(f.current.getBoundingClientRect().height)}),250);return function(){return clearTimeout(e)}}),[f,o]);var p=Object(a.useMemo)((function(){return Object.entries(Je).map((function(e,t){var n=Object(c.a)(e,2),a=n[0],i=n[1],o=u[a]||i.defaultValue;if(i.value&&(o=i.value(u)),"number"===i.type&&(o=Number(o)),i.validate&&!i.validate(o))return null;var l=o;i.convert&&(l=i.convert(o));var s="undefined"!==typeof l?l.toString():"\u200b";return r.a.createElement("div",{className:ke.a.row,key:["row",t].join(".")},r.a.createElement("div",{className:["fieldBox"].join(" ")},i.name+":"),r.a.createElement("div",{style:{cursor:"link"===i.type?"copy":"default"},className:["fieldBox","licensed"===a?Ke.a["license"+o.toString()]:""].join(" "),onClick:"link"!==i.type?null:function(){return navigator.clipboard.writeText(s)}},s))}))}),[u]);return r.a.createElement("div",{className:Ke.a.sidebar},r.a.createElement("div",{className:[J.a.profile,Ke.a.profile].join(" ")},r.a.createElement("div",{className:"topBanner"},"Settings"),r.a.createElement("div",{className:[Ke.a.listWrapper,"scrollable"].join(" "),style:{height:i}},r.a.createElement("div",{ref:f,className:Ke.a.listing},p))),r.a.createElement("div",{className:["bottomBanner",Ke.a.bottomBanner].join(" ")},r.a.createElement("div",{onClick:e.closeListing,className:"button"},r.a.createElement(M.f,null))))}var tt=n(27),nt=n.n(tt);function at(e){var t="string"===typeof e.message?e.message:JSON.stringify(e.message,null,4),n=Object(a.useRef)(null);return Object(a.useEffect)((function(){n.current.focus()}),[n]),r.a.createElement("div",{className:nt.a.alertBox},e.title?r.a.createElement("div",null,e.title):null,r.a.createElement("div",{className:[nt.a.textBox].join(" ")},t),r.a.createElement("div",{className:nt.a.response},e.confirm?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:[nt.a.NO,"button"].join(" "),ref:n,onClick:function(){e.reject(),e.close()}},r.a.createElement(M.h,null)),r.a.createElement("button",{className:[nt.a.YES,"button"].join(" "),onClick:function(){e.resolve(),e.close()}},r.a.createElement(M.g,null))):r.a.createElement("button",{className:[nt.a.NO,"button"].join(" "),onClick:e.close,ref:n},"OK")))}function rt(){var e=Object(a.useState)(""),t=Object(c.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)(""),u=Object(c.a)(o,2),m=u[0],d=u[1],f=Pe("login","mode"),p=Object(c.a)(f,2),b=p[0],v=p[1],g=Object(a.useReducer)((function(e,t){return Object.assign({},e,t)}),{message:"",title:"",error:!0,confirm:!1}),y=Object(c.a)(g,2),j=y[0],h=y[1],E=Object(a.useCallback)((function(){return h({message:""})}),[h]),_=Object(a.useCallback)((function(e,t,n){return h({message:e,title:"CONFIRM ACTION",confirm:!0,resolve:t,reject:n})}),[h]),O=Object(a.useCallback)((function(e){return h({message:e,title:"ERROR",confirm:!1})}),[h]),N=Object(a.useCallback)((function(e){d(e),v(e?"tournament":"menu")}),[d,v]),k=Object(a.useCallback)(function(){var e=Object(s.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.set("sessionID",t,{path:"/"});case 2:i(t),v("menu");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i,v]),C=Object(a.useCallback)(Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.set("tournamentID","",{path:"/"});case 2:v("menu"),d("");case 4:case"end":return e.stop()}}),e)}))),[d,v]),S=Object(a.useCallback)(Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.set("sessionID","",{path:"/"});case 3:return e.next=5,x({url:"/endSession"});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:return e.prev=10,i(""),v("login"),e.finish(10);case 14:case"end":return e.stop()}}),e,null,[[0,7,10,14]])}))),[i,v]);Object(a.useEffect)((function(){return P((function(e){return O(e)})),function(){return P((function(){}))}}),[O]);var D=Object(a.useCallback)(Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.get("sessionID");case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:i(t),v("menu");case 7:case"end":return e.stop()}}),e)}))),[i,v]);Object(a.useEffect)((function(){D()}),[D]);var R=Object(a.useMemo)((function(){switch(b){case"login":return r.a.createElement(H,{login:k});case"menu":return r.a.createElement(Qe,{sessionID:n,endSession:S,setTournamentID:N,triggerConfirm:_});case"tournament":return r.a.createElement(We,{id:m,closeTournament:C,triggerError:O,triggerConfirm:_});default:return console.error("invalid mode"),v("login"),null}}),[b,k,n,S,N,_,m,C,O,v]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(W,null),r.a.createElement("div",{className:"stage",style:{backgroundImage:"url(".concat(".","/images/leaves-texture.png)")}},R,j.message&&j.message.length>10?r.a.createElement(at,Object.assign({},j,{close:E})):null))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(i.render)(r.a.createElement(rt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t,n){e.exports={column:"menu_column__2M8E5",leftColumn:"menu_leftColumn__3G5Pq",rightColumn:"menu_rightColumn__sVDlm",line:"menu_line__3lrkH",row:"menu_row__Wa99B",listWrapper:"menu_listWrapper__350UQ",clickButton:"menu_clickButton__37nEz",dotContainer:"menu_dotContainer__rNA2Q",dotDescription:"menu_dotDescription__3r8Zl",dot:"menu_dot__2Xfu3",dotContainerLoaded:"menu_dotContainerLoaded__3B1yP",descriptionSelected:"menu_descriptionSelected__1NbFb",close:"menu_close__2sLaM",sidebar:"menu_sidebar__2gZ4r",profile:"menu_profile__26qyk",bottomBanner:"menu_bottomBanner__1-kYG","slide-in-from-right":"menu_slide-in-from-right__3OSvE",logo:"menu_logo__3JUGU","float-down":"menu_float-down__3JniU",dotUnloaded:"menu_dotUnloaded__pFsmt",expand:"menu_expand__38G2K",license1:"menu_license1__2jbJt",license2:"menu_license2__23UEx",license3:"menu_license3__3GmLm","briefly-expand":"menu_briefly-expand__ljAUX"}}},[[48,1,2]]]);
//# sourceMappingURL=main.13acb667.chunk.js.map